<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/bollnh/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">













    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Javascript | 
        
        Dim.Ke
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg">
    <link rel="icon" href="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",javascript">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Dim.Ke">
    <meta name="msapplication-starturl" content="https://isunk.github.io/2025/03/22/javascript/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Dim.Ke">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="code-ibxIxWHREM" />

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://isunk.github.io/2025/03/22/javascript/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Javascript | Dim.Ke">
    <meta property="og:image" content="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="javascript"> 

    
        <meta property="article:published_time" content="Sat Mar 22 2025 06:39:26 GMT+0000">
        <meta property="article:modified_time" content="Sat Mar 22 2025 02:25:41 GMT+0000">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://isunk.github.io/2025/03/22/javascript/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://isunk.github.io/2025/03/22/javascript/index.html",
    "headline": "Javascript",
    "datePublished": "Sat Mar 22 2025 06:39:26 GMT+0000",
    "dateModified": "Sat Mar 22 2025 02:25:41 GMT+0000",
    "author": {
        "@type": "Person",
        "name": "Dim.Ke",
        "image": {
            "@type": "ImageObject",
            "url": "https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Dim.Ke",
        "logo": {
            "@type":"ImageObject",
            "url": "https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg"
        }
    },
    "keywords": ",javascript",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

    <script src="https://kulroakonsu.net/88/tag.min.js" data-zone="137717" async data-cfasync="false"></script><!-- Monetag 广告 -->
<meta name="generator" content="Hexo 5.4.2"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Javascript"><span class="post-toc-text">Javascript</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#DOM"><span class="post-toc-text">DOM</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="post-toc-text">语法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AD%98%E5%82%A8"><span class="post-toc-text">存储</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="post-toc-text">网络</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="post-toc-text">第三方库</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Jquery"><span class="post-toc-text">Jquery</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-vConsole-%E8%B0%83%E8%AF%95%E7%A7%BB%E5%8A%A8%E7%AB%AF-web"><span class="post-toc-text">使用 vConsole 调试移动端 web</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#lunr-js"><span class="post-toc-text">lunr.js</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#vue"><span class="post-toc-text">vue</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#socket-io"><span class="post-toc-text">socket.io</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#js-sha256"><span class="post-toc-text">js-sha256</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#jsencrypt"><span class="post-toc-text">jsencrypt</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#multiavatar"><span class="post-toc-text">multiavatar</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#tensorflow-js"><span class="post-toc-text">tensorflow.js</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-mark-js-%E6%A0%87%E6%B3%A8%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9%EF%BC%88%E5%85%B3%E9%94%AE%E8%AF%8D%E5%89%8D%E5%90%8E%E5%8C%85%E8%A3%B9-mark-%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%A6%82-%E2%80%9Chello%E2%80%9C%EF%BC%89"><span class="post-toc-text">使用 mark.js 标注网页内容（关键词前后包裹 mark 标签，如 “hello“）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#qrcodejs"><span class="post-toc-text">qrcodejs</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Monaco-Editor"><span class="post-toc-text">Monaco Editor</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-Mock-js-%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%8B%A6%E6%88%AA-ajax-%E8%AF%B7%E6%B1%82"><span class="post-toc-text">使用 Mock.js 生成随机数据，拦截 ajax 请求</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#decimal-js"><span class="post-toc-text">decimal.js</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%85%B6%E4%BB%96"><span class="post-toc-text">其他</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%8F%82%E8%80%83"><span class="post-toc-text">参考</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Javascript
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Dim.Ke</strong>
        <span>3月 22, 2025</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-none-link" href="/tags/javascript/" rel="tag">javascript</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Javascript&url=https://isunk.github.io/2025/03/22/javascript/index.html&pic=https://isunk.github.iohttps://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Javascript&url=https://isunk.github.io/2025/03/22/javascript/index.html&via=Dim.Ke" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://isunk.github.io/2025/03/22/javascript/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://isunk.github.io/2025/03/22/javascript/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a><a target="_blank" rel="noopener" href="http://www.w3school.com.cn/js/index.asp">Javascript</a></h1><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><ul>
<li><p>开启内容编辑</p>
<pre><code class="javascript">javascript:document.body.contentEditable=&quot;true&quot;; // &quot;false&quot; if you want to diable
document.designMode=&quot;on&quot;;
</code></pre>
</li>
<li><p>提示消息框<br>  <code>var name = prompt(&quot;please input your name&quot;, &quot;luffy&quot;);</code><br>  确认消息框<br>  <code>var isOK = window.confirm(&quot;Are you OK?&quot;);</code></p>
</li>
<li><p>获取页面高度</p>
<pre><code class="javascript">// console.info(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);
var height = Math.max(
    Math.max(document.body.scrollHeight, document.documentElement.scrollHeight),
    Math.max(document.body.offsetHeight, document.documentElement.offsetHeight),
    Math.max(document.body.clientHeight, document.documentElement.clientHeight)
);
</code></pre>
</li>
<li><p>打开新窗口</p>
<pre><code class="javascript">// let c = window.open(&quot;http://www.baidu.com&quot;, &quot;_blank&quot;);
let c = window.open(&quot;&quot;, &quot;&quot;, &quot;width=360,height=640&quot;); // 子窗口 window 对象
c.document.write(&quot;hello, world&quot;);
c.focus();
</code></pre>
<pre><code class="javascript">let p = window.opener; // 父窗口 window 对象
</code></pre>
</li>
<li><p>下载文件</p>
<pre><code class="javascript">fetch(&quot;/img/flexible/logo/pc/result.png&quot;).then(res =&gt; res.blob().then(blob =&gt; &#123;
    var url = window.URL.createObjectURL(blob);
    var filename = &quot;baidu.png&quot;;
    var a = document.createElement(&quot;a&quot;);
    a.href = url;
    a.download = filename;
    a.click();
    window.URL.revokeObjectURL(url); // 释放 url 对象内存
&#125;)); 
</code></pre>
</li>
<li><p>拖拽文件</p>
<pre><code class="javascript">let div = document.createElement(&quot;div&quot;);
div.style.width = &quot;400px&quot;;
div.style.height = &quot;300px&quot;;
div.style.border = &quot;dashed&quot;;

div.ondragenter = div.ondragover = div.ondragleave = function(e) &#123;
    e.preventDefault();
&#125;;
div.ondrop = function(e) &#123;
    e.preventDefault();

    let file = e.dataTransfer.files[0];

    let reader = new FileReader();
    reader.readAsBinaryString(file);
    reader.onload = function() &#123;
        let arr = new Uint8Array(this.result.length);
        for (let i = 0; i &lt; this.result.length; i++) &#123;
            arr[i] = this.result.charCodeAt(i);
        &#125;
        let url = window.URL.createObjectURL(new Blob([arr]));
        let a = document.createElement(&quot;a&quot;);
        a.href = url;
        a.download = file.name;
        a.click();
        window.URL.revokeObjectURL(url);
    &#125;
&#125;;

document.body.appendChild(div);
</code></pre>
</li>
<li><p>Blob 切分、合并</p>
<pre><code class="javascript">let blob = e.dataTransfer.files[0]; // some file from user...

let cursor = 0,
    arr = [];
while(cursor &lt; blob.size) &#123;
    let b = blob.slice(cursor, cirsor += 1 * 1024 * 1024); // 切分，分片不超过 1 MB
    arr.push(b);
&#125;

let merged = new Blob(arr); // 合并
</code></pre>
</li>
<li><p>FileReader</p>
<pre><code class="javascript">let file = e.dataTransfer.files[0];

let reader = new FileReader();

var url = null, blob = null;

// 读取为 URL 对象
reader.readAsDataURL(file);
reader.onload = function(e) &#123;
    // url = e.target.result;
    url = this.result;
    
    // 下载
    let a = document.createElement(&quot;a&quot;);
    a.href = url;
    a.download = file.name;
    a.click();
&#125;

// 读取为 ArrayBuffer 对象
reader.readAsArrayBuffer(file);
reader.onload = function() &#123;
    blob = new Blob([this.result]); // ArrayBuffer 转 Blob

    url = window.URL.createObjectURL(blob); // Blob 转 URL
    window.URL.revokeObjectURL(url); // 需要释放 URL
&#125;

// 读取为 BinaryString 字符串
reader.readAsBinaryString(file);
reader.onload = function() &#123;
    let arr = new Uint8Array(this.result.length);
    for (let i = 0; i &lt; this.result.length; i++) &#123;
        arr[i] = this.result.charCodeAt(i);
    &#125;
    blob = new Blob([arr]); // BinaryString 转 Blob
&#125;
</code></pre>
</li>
<li><p>HTML 编码（转义）、解码</p>
<pre><code class="javascript">function htmlEncode(str) &#123;
    var div = document.createElement(&quot;div&quot;);
    div.appendChild(document.createTextNode(str));
    return div.innerHTML;
&#125;
function htmlDecode(str) &#123;
    var div = document.createElement(&quot;div&quot;);
    div.innerHTML = str;
    return div.innerHTML;
&#125;
</code></pre>
</li>
<li><p>Base64 编码、解码</p>
<pre><code class="javascript">// 编码
window.btoa(&quot;china is so nb&quot;) // &quot;Y2hpbmEgaXMgc28gbmI=&quot;

// 解码
window.atob(&quot;Y2hpbmEgaXMgc28gbmI=&quot;) // &quot;china is so nb&quot;
</code></pre>
</li>
<li><p>使用 canvas 处理图片</p>
<pre><code class="javascript">// document.body.innerHTML = &quot;&quot;;

let input = document.createElement(&quot;input&quot;);
input.type = &quot;file&quot;;
input.name = &quot;picture&quot;;
document.body.appendChild(input);

let canvas = document.createElement(&quot;canvas&quot;);
document.body.appendChild(canvas);

let image = new Image();
image.onload = function () &#123;
    canvas.width = image.width;
    canvas.height = image.height;

    let context = canvas.getContext(&quot;2d&quot;);
    context.drawImage(image, 0, 0);

    let imageData = context.getImageData(0, 0, image.width, image.height); // 获取图像信息

    for (y = 0; y &lt; imageData.height; y++) &#123; // 图像的高/像素
        for (x = 0; x &lt; imageData.width; x++) &#123; // 图像的宽/像素
            let idx = (imageData.width * y + x) * 4; // 像素点在 ImageData.data: Uint8ClampedArray 中的位置（每连续四个值为一个像素的 RGBA 值）

            let r = imageData.data[idx + 0], // red
                g = imageData.data[idx + 1], // green
                b = imageData.data[idx + 2], // blue
                a = imageData.data[idx + 3]; // alpha

            let gray = 0.299 * r + 0.578 * g + 0.114 * b; // 计算灰度值
            imageData.data[idx + 0] = imageData.data[idx + 1] = imageData.data[idx + 2] = gray;
        &#125;
    &#125;

    context.putImageData(imageData, 0, 0); // 设置图像信息
    
    // canvas.toDataURL(&quot;image/webp&quot;, 0.8) // 转换成 webp 格式（默认为 image/png，其它可选有 image/jpeg），质量为 0.8（默认为 0.92，取值范围为 0-1）
&#125;;

input.onchange = function(e) &#123;
    var reader = new FileReader();
    // reader.readAsDataURL(e.target.files[0]);
    reader.readAsDataURL(this.files[0]);
    reader.onload = function(e) &#123;
        // image.src = e.target.result;
        image.src = this.result;
    &#125;
&#125;;
</code></pre>
</li>
<li><p>屏幕、应用窗口、页面捕捉</p>
<pre><code class="javascript">let video = document.createElement(&quot;video&quot;);
video.controls = true;
video.autoplay = true;
video.playsinline = true;
video.muted = false;
video.volume = 0;
document.body.appendChild(video);

(navigator.mediaDevices || navigator).getDispayMedia(&#123;
    video: true
&#125;).then(stream =&gt; &#123;
    video.srcObject = stream;
&#125;).catch(err =&gt; &#123;
    console.error(err.message);
&#125;);
</code></pre>
</li>
<li><p>双向绑定（仿 vue 实现）</p>
</li>
<li><p>有限状态机</p>
</li>
<li><p>语音朗读</p>
<pre><code class="javascript">let voice = window.speechSynthesis.getVoices().filter(v =&gt; v.lang === &quot;zh-CN&quot; &amp;&amp; v.localService === true &amp;&amp; v.default === true).pop();

let utterance = new SpeechSynthesisUtterance(&quot;hello, world&quot;);
utterance.voice = voice;
// utterance.pitch
// utterance.rate
window.speechSynthesis.speak(utterance);
</code></pre>
</li>
<li><p>获取地理位置信息</p>
<pre><code class="javascript">navigator.geolocation.getCurrentPosition(function (position) &#123;
    console.debug(&quot;The current position is&quot;, position);
&#125;, function (error) &#123;
    console.error(&quot;Can not get current position&quot;, error.message);
&#125;, &#123;
    enableHighAccuracy: false, // 位置是否精确获取
    timeout: 8000, // 获取位置允许的最长时间，默认为 infinity
    maximumAge: 1000 // 多久更新获取一次位置，位置可以缓存的最大时间，默认为 0
&#125;);
</code></pre>
</li>
<li><p>异步动态加载 js</p>
<pre><code class="javascript">const require = function (src) &#123;
    return new Promise((resolve, reject) =&gt; &#123;
        if (window.modules == null) &#123;
            window.modules = [];
        &#125;
        if (window.modules.indexOf(src) === -1) &#123;
            let script = document.createElement(&quot;script&quot;);
            script.src = src;
            script.onload = function () &#123;
                resolve(src);
                window.modules.push(src);
            &#125;;
            document.body.appendChild(script);
        &#125;
    &#125;);
&#125;;
require(&quot;https://cdn.jsdelivr.net/mark.js/latest/&quot;).then(s =&gt; &#123; console.debug(&quot;loaded success&quot;, s) &#125;);
</code></pre>
</li>
<li><p>修改浏览器 UA（即 User Agent）</p>
<pre><code class="javascript">Object.defineProperty(navigator, &quot;platform&quot;, &#123;
    get: function () &#123;
        return &quot;Android&quot;;
    &#125;
&#125;);

navigator.platform // Android
</code></pre>
</li>
<li><p>网页的宽度自动适应手机屏幕的宽度</p>
<pre><code class="html">&lt;head&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no&quot;&gt;
&lt;/head&gt;
</code></pre>
<blockquote>
<ol>
<li>width=device-width ：表示宽度是设备屏幕的宽度</li>
<li>initial-scale=1.0：表示初始的缩放比例，1.0 就是占网页的 100%</li>
<li>minimum-scale=1.0：表示最小的缩放比例</li>
<li>maximum-scale=1.0：表示最大的缩放比例</li>
<li>user-scalable=no：表示用户是否可以调整缩放比例</li>
</ol>
</blockquote>
</li>
</ul>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><ul>
<li><p>闭包</p>
<pre><code class="javascript">(function() &#123;
    // 闭包函数内容
&#125;)(); // 在定义后调用外层函数
</code></pre>
</li>
<li><p>计算的属性名称</p>
<pre><code class="javascript">var foo = &#123;
    [`bar` + 1]: `baz`
&#125;; // &#123;&quot;bar1&quot;:&quot;baz&quot;&#125;
</code></pre>
</li>
<li><p>按照指定的周期(以毫秒计)来调用函数或计算表达式</p>
<pre><code class="javascript">// 每隔1秒打印一次当前时间
var obj = setInterval(function()&#123;
    console.info(new Date());
&#125;, 1000);
// 取消由 setInterval() 设置的 timeout
clearInterval(obj);
</code></pre>
</li>
<li><p>在指定的毫秒数后调用函数或计算表达式</p>
<pre><code class="javascript">// 5 秒后打印 &quot;hello, world&quot;
var obj = setTimeout(function()&#123;
    console.info(&quot;hello, world&quot;);
&#125;, 5000);
// 取消由 setTimeout() 方法设置的 timeout
clearTimeout(obj);
</code></pre>
</li>
<li><p>中文字符串转换为 unicode 码</p>
<pre><code class="javascript">var u = escape(&quot;中文&quot;).toLowerCase().replace(/%u/g, &quot;\\u&quot;);
console.info(u);
</code></pre>
</li>
<li><p>URL 编码、解码</p>
<pre><code class="javascript">var e = encodeURI(&quot;xxx&quot;); // 转义空格
car e = encodeURIComponent(&quot;xxx&quot;); // 转义所有非字母数字字符
var d = decodeURI(&quot;xxx&quot;);
var d = decodeURIComponent(&quot;xxx&quot;);
</code></pre>
</li>
<li><p>Number 和 BigInt</p>
<pre><code class="javascript">// 显示 Number 类型最大值，不使用科学记数法
console.info(Number.MAX_VALUE.toLocaleString());
</code></pre>
<pre><code class="javascript">0.1 + 0.2 // 0.30000000000000004

0.1 + 0.2 === 0.3000000000000000[2-7] // true
0.1 + 0.2 === 0.3000000000000000[0189] // false
</code></pre>
<blockquote>
<p>js 中，Number 类型是用双精度 64 位浮点格式表示，只能安全表示 Number.MIN_SAFE_INTEGER (-2 ^ 53 - 1) ~ Number.MAX_SAFE_INTEGER (2 ^ 53 - 1) 之间的整数，解决方案是使用 BigInt 类型表示，如 9n 或 BigInt(“9”)</p>
</blockquote>
</li>
<li><p>字符串与整数互转以及移位操作 byte 截取 bit</p>
<blockquote>
<p>JavaScript 的所有位操作都是先将操作对象转化为 32 位有符号数进行的。详见 Ecma-262 规范（JavaScript 的正式名称是 “ECMAScript”，其语法由 Ecma-262 规范描述）。</p>
</blockquote>
<pre><code class="javascript">// 显示整数 &quot;257&quot; 的十进制形式
console.info((257).toString(2)); // &quot;100000001&quot;
// 取二进制形式的低八位（即 &quot;00000001 00000001&quot; 中后八位 &quot;00000001&quot;）
console.info((257 &amp; 0xff).toString(2)); // &quot;1&quot;

// 将二进制字符串 &quot;10101010&quot; 转换为无符号整数i
var i = parseInt(&quot;10101010&quot;, 2); // &quot;170&quot;
// i = parseInt(&quot;-10101010&quot;, 2); // &quot;-170&quot;

// 将整数i右移5位并转换为二进制字符串，即截取二进制字符串 &quot;10101010&quot; 前3位（&quot;101&quot;）
console.info((i &gt;&gt; (8 - 3)).toString(2));

// 显示 &quot;-5&quot; 的二进制表示形式（&quot;11111011&quot;）
console.info((-5 &amp; 0xff).toString(2));
// 对 &quot;5&quot; 进行按位非操作，并显示其二进制表示形式（&quot;11111011&quot;）
console.info((~5 &amp; 0xff).toString(2));

console.assert(~255 + 1 == 255 * -1);

// 通过使用无符号右移运算符，位动位数为0，可以将32位有符号整数，转化为32位无符号整数，即&quot;unsigned = signed &gt;&gt;&gt; 0;&quot;
console.info(-5 &gt;&gt;&gt; 0); // &quot;4294967291&quot;
// 通过使用左移运算符，位动位数为0，可以将32位无符号整数，转化为32位有符号整数，即&quot;signed = unsigned &lt;&lt; 0;&quot;
console.info(4294967291 &lt;&lt; 0); // &quot;-5&quot;

// 将8位有符号整数，转化为8位无符号整数
console.info(-5 &gt;&gt;&gt; 0 &amp; 0xff); // &quot;251&quot;，二进制为&quot;11111011&quot;
// &lt;=&gt; console.info(parseInt((-5 &amp; 0xff).toString(2), 2));
// 将8位无符号整数，转化为8位有符号整数
(function(uint8_value) &#123;
    return (uint8_value &amp; 0xff) &gt;&gt; 7 == 1 ? ((~uint8_value &amp; 0xff) + 1) * -1 : uint8_value;
    // 第一位为符号位，剩余七位为数值位。1表示负数，其值等于所有位取反加1；0表示正数，所有位直接转化为十进制即为值大小。
&#125;)(251); // &quot;-5&quot;，将所有位（251，二进制为&quot;11111011&quot;）按位取反（&quot;00000100&quot;）并加1（&quot;00000101&quot;，即十进制5），由于&quot;11111011&quot;第一位为1，表示负数，因此结果为&quot;-5&quot;
</code></pre>
</li>
<li><p>字符与 ascii 码互转</p>
<pre><code class="javascript">&quot;a&quot;.charCodeAt() // 97

String.fromCharCode(97) // &quot;a&quot;
String.fromCharCode(97, 98) // &quot;ab&quot;
// String.fromCharCode(...[97, 98]) // &quot;ab&quot;
String.fromCharCode.apply(null, [97, 98]) // &quot;ab&quot;
</code></pre>
</li>
<li><p>模板字面量与标签函数</p>
<pre><code class="javascript">let name = &quot;world&quot;;

// 模板字面量   
let str = `hello, $&#123;name&#125;`;
console.log(str); // hello, world

// 标签函数
let greeting = (name) =&gt; &#123;
    return `hello, $&#123;name&#125;`;
&#125;;
greeting`world`; // hello, world
</code></pre>
</li>
<li><p>可选链</p>
<pre><code class="javascript">const obj = &#123;
    prop: &#123;
        a: &quot;value&quot;
    &#125;
&#125;

// Optional Chaining
obj.foo?.a // undefined
</code></pre>
</li>
<li><p>丢弃小数部分，保留整数部分<br>  <code>var r = parseInt(5/2);</code><br>  向上取整，有小数就整数部分加 1<br>  <code>var r = Math.ceil(5/2);</code><br>  四舍五入<br>  <code>var r = Math.round(5/2);</code><br>  向下取整<br>  <code>var r = Math.floor(5/2);</code>  </p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">abs(x)</td>
<td align="left">返回数的绝对值</td>
</tr>
<tr>
<td align="left">acos(x)</td>
<td align="left">返回数的反余弦值</td>
</tr>
<tr>
<td align="left">asin(x)</td>
<td align="left">返回数的反正弦值</td>
</tr>
<tr>
<td align="left">atan(x)</td>
<td align="left">以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值</td>
</tr>
<tr>
<td align="left">atan2(y, x)</td>
<td align="left">返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）</td>
</tr>
<tr>
<td align="left">ceil(x)</td>
<td align="left">对数进行上舍入</td>
</tr>
<tr>
<td align="left">cos(x)</td>
<td align="left">返回数的余弦</td>
</tr>
<tr>
<td align="left">exp(x)</td>
<td align="left">返回 e 的指数</td>
</tr>
<tr>
<td align="left">floor(x)</td>
<td align="left">对数进行下舍入</td>
</tr>
<tr>
<td align="left">log(x)</td>
<td align="left">返回数的自然对数（底为 e）</td>
</tr>
<tr>
<td align="left">max(x, y)</td>
<td align="left">返回 x 和 y 中的最高值</td>
</tr>
<tr>
<td align="left">min(x, y)</td>
<td align="left">返回 x 和 y 中的最低值</td>
</tr>
<tr>
<td align="left">pow(x, y)</td>
<td align="left">返回 x 的 y 次幂</td>
</tr>
<tr>
<td align="left">random()</td>
<td align="left">返回 0 ~ 1 之间的随机数</td>
</tr>
<tr>
<td align="left">round(x)</td>
<td align="left">把数四舍五入为最接近的整数</td>
</tr>
<tr>
<td align="left">sin(x)</td>
<td align="left">返回数的正弦</td>
</tr>
<tr>
<td align="left">sqrt(x)</td>
<td align="left">返回数的平方根</td>
</tr>
<tr>
<td align="left">tan(x)</td>
<td align="left">返回角的正切</td>
</tr>
<tr>
<td align="left">toSource()</td>
<td align="left">返回该对象的源代码</td>
</tr>
<tr>
<td align="left">valueOf()</td>
<td align="left">返回 Math 对象的原始值</td>
</tr>
</tbody></table>
</li>
<li><p>断言<br>  <code>console.assert(1 == 2, &quot;not equal&quot;);</code></p>
</li>
<li><p>js 中 “==” 与 “===” 区别</p>
<ul>
<li>“==” 是比较两边<strong>值</strong>是否相同</li>
<li>“===” 是比较两边<strong>值</strong>和<strong>类型</strong>是否相同</li>
</ul>
</li>
<li><p>对象展开运算符 (ES6)</p>
<pre><code class="javascript">let a = [1, 2, 3];
let b = [0, ...a, 4]; // [0, 1, 2, 3, 4]

let obj = &#123; a: 1, b: 2 &#125;;
let obj2 = &#123; ...obj, c: 3 &#125;; // &#123; a: 1, b: 2, c: 3 &#125;
let obj3 = &#123; ...obj, a: 3 &#125;; // &#123; a: 3, b: 2 &#125;
</code></pre>
<pre><code class="javascript">// 剩余操作符
let a = [1, 2, 3];
let [b, ...c] = a;
b; // 1
c; // [2,3]

let a = [1, 2, 3];
let [b, ...[c, d, e]] = a;
b; // 1
c; // 2
d; // 3
e; // undefined

function test(a, ...rest)&#123;
    console.log(a); // 1
    console.log(rest); // [2, 3]
&#125;
test(1, 2, 3)
</code></pre>
<pre><code class="javascript">let object = &#123;
    a: &quot;01&quot;, b: &quot;02&quot;
&#125;;
let newObject = &#123;
    c: &quot;03&quot;,
    ...object
&#125;;
console.log(newObject); // &#123; c: &quot;03&quot;, a: &quot;01&quot;, b: &quot;02&quot; &#125;
</code></pre>
</li>
<li><p>从对象中删除属性</p>
<pre><code class="javascript">const user = &#123;
    id: 1,
    name: &quot;zhangsan&quot;,
    gender: &quot;male&quot;
&#125;;

// 使用 delete 运算符
delete user.name;
delete user[&quot;name&quot;];

// 使用 rest 语法进行对象解构
const &#123; name, ...restObject &#125; = user;
console.log(restObject); // &#123; id: 1, gender: &quot;male&quot; &#125;
</code></pre>
</li>
<li><p>正则表达式</p>
<pre><code class="javascript">var content = &quot;hello, world&quot;;

var pattern = new RegExp(&quot;o&quot;, &quot;g&quot;);
// var pattern = /o/g; // 修饰符 i 表示忽略大小写，g 表示全局匹配，m 表示多行匹配
while ((result = pattern.exec(content)) != null) &#123;
    var above = content.substring(0, result.index);
    var lineNum = (above.match(/[\n]/g) || []).length + 1;
    console.info(&quot;&#39;%s&#39; found in row: %s, col: %s&quot;, result[0], lineNum, result.index + 1);
&#125;

console.info(content.match(/o/g));
</code></pre>
<pre><code class="javascript">// 命名分组
&quot;data:image/png;base64,iVBORw0KGgoAAAANSUh...&quot;.match(/^data:image\/(?&lt;type&gt;[a-z]+);base64,(?&lt;data&gt;.+)$/).groups // &#123; &quot;type&quot;: &quot;png&quot;, &quot;data&quot;: &quot;iVBORw0KGgoAAAANSUh...&quot; &#125;
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010003835/article/details/79042135">集合</a></p>
<pre><code class="javascript">var a = [1, 2, 3], b = [2, 4, 5];

// ES7
&#123;
    // 并集
    let union = a.concat(b.filter(v =&gt; !a.includes(v))); // [1, 2, 3, 4, 5]
    // 交集
    let intersection = a.filter(v =&gt; b.includes(v)); // [2]
    // 差集
    let difference = a.concat(b).filter(v =&gt; a.includes(v) &amp;&amp; !b.includes(v)); // [1, 3]
&#125;

// ES6
&#123;
    // 并集
    let union = Array.from(new Set(a.concat(b))); // [1, 2, 3, 4, 5]
    // 交集
    var bSet = new Set(b);
    let intersection = Array.from(new Set(a.filter(v =&gt; bSet.has(v)))); // [2]
    // 差集
    var aSet = new Set(a);
    let difference = Array.from(new Set(a.concat(b).filter(v =&gt; aSet.has(v) &amp;&amp; !bSet.has(v)))); //  [1, 3]
&#125;

// ES5
&#123;
    // 并集
    var union = a.concat(b.filter(function (v) &#123; return a.indexOf(v) === -1 &#125;)); // [1, 2, 3, 4, 5]
    // 交集
    var intersection = a.filter(function (v) &#123; return b.indexOf(v) &gt; -1 &#125;); // [2]
    // 差集
    var difference = a.filter(function (v) &#123; return b.indexOf(v) === -1 &#125;); // [1, 3]
&#125;
</code></pre>
<pre><code class="javascript">var m = [[1, 3.0], [2, 3.9], [3, 2.0], [4, 1.2], [5, 1.3], [6, 2.5], [7, 2.0], [8, 3.1], [9, 2.9], [10, 0.9]];

// 数组降维
var arr = [].concat.apply([], m); // [1, 3, 2, 3.9, 3, 2, 4, 1.2, 5, 1.3, 6, 2.5, 7, 2, 8, 3.1, 9, 2.9, 10, 0.9]

// 数组去重
// var distinction = Array.from(new Set(arr));
// var distinction = [...new Set(arr)];
var distinction = arr.filter((item, index, arr) =&gt; &#123; return arr.indexOf(item) === index; &#125;); // [1, 3, 2, 3.9, 4, 1.2, 5, 1.3, 6, 2.5, 7, 8, 3.1, 9, 2.9, 10, 0.9]

// 数组排序
distinction.sort(); // [0.9, 1, 1.2, 1.3, 10, 2, 2.5, 2.9, 3, 3.1, 3.9, 4, 5, 6, 7, 8, 9]

// 数组求和
arr.reduce((total, current) =&gt; &#123;
    return total + current;
&#125;, 0);
</code></pre>
<pre><code class="javascript">// 多个数组求交集
let arr = [
    [1, 2, 3, 4],
    [3, 4, 6],
    [4, 5],
    [4, 5, 8, 9],
    [4, 5, 2, 7],
    [4, 5, 3],
    [4, 5, 0],
];
let res = arr.reduce((a, b) =&gt; &#123; 
    return a.filter(c =&gt; b.includes(c));
&#125;);
</code></pre>
<pre><code class="javascript">var users = [&#123; name: &quot;zhangsan&quot;, age: 14 &#125;, &#123; name: &quot;lisi&quot;, age: 15 &#125;];

// 映射数组为新数组
// 语法: array.map(function(currentValue, index, arr), thisValue)
var names = users.map(u =&gt; u.name); // [&quot;zhangsan&quot;, &quot;lisi&quot;]
names.map(n =&gt; &#123; return &#123; name: n, sex: &quot;male&quot; &#125; &#125;); // [&#123; name: &quot;zhangsan&quot;, sex: &quot;male&quot; &#125;, &#123; name: &quot;lisi&quot;, sex: &quot;male&quot; &#125;]

// 过滤数组为新数组
users.filter(u =&gt; u.age &gt; 14); // [&#123; name: &quot;lisi&quot;, age: 15 &#125;]

// 数组转对象
users.reduce((p, c) =&gt; &#123;
    p[c.name] = c.age;
    return p;
&#125;, &#123;&#125;); // &#123; zhangsan: 14, lisi: 15 &#125;
</code></pre>
<pre><code class="javascript">// 优雅地递归取数据
var data = [
    &#123;
        name: &quot;123&quot;,
        type: &quot;menu&quot;,
        children: [&#123; name: &quot;321&quot;, type: &quot;operation&quot;, children: null &#125;],
    &#125;,
    &#123;
        name: &quot;456&quot;,
        type: &quot;menu&quot;,
        children: [&#123; name: &quot;654&quot;, type: &quot;menu&quot;, children: [&#123; name: &quot;546&quot;, type: &quot;operation&quot;, children: null &#125;] &#125;],
    &#125;
];
const filterByType = (target, init = []) =&gt; &#123;
    target.forEach(item =&gt; &#123;
        item.type === &quot;operation&quot; &amp;&amp; init.push(item.name);
        item.children &amp;&amp; filterByType(item.children, init);
    &#125;);
    return init;
&#125;;
filterByType(data); // [&quot;321&quot;, &quot;546&quot;]
</code></pre>
<pre><code class="javascript">// ip 地址转换为二进制
&quot;192.168.0.101&quot;.split(&quot;.&quot;).reduce((total, cur) =&gt; total + (&quot;00000000&quot; + parseInt(cur).toString(2)).substr(-8), &quot;&quot;)
</code></pre>
<pre><code class="javascript">// 栈
let stack = [1, 2];
stack.push(3); // 入栈
console.debug(stack); // [1, 2, 3]
// 出栈最后一个元素
stack.pop(); // 3
console.debug(stack); // [1, 2]

// 队列
let queue = [1, 2];
queue.push(3); // 把数据放入队尾
console.debug(queue); // [1, 2, 3]
// 从队列中取出队列中的第一个数
queue.shift(); // 1
console.debug(queue); // [2, 3]
</code></pre>
<pre><code class="javascript">Array.from(&#123; length: 3 &#125;, (v, k) =&gt; k + 1); // [1, 2, 3]

// 创建一个 5x4 的二维数组
new Array(5).fill(&quot;&quot;).map(d =&gt; new Array(4).fill(0));
</code></pre>
<pre><code class="javascript">// 比较两个数组元素的出现顺序，时间复杂度均为 O(n)   

// using foreach
function compare(a, b) &#123;
    var i = 0;
    b.forEach(function(el) &#123;
        if(el == a[i]) i++;
    &#125;)
    return i == a.length;
&#125;

// using reduce
function compare2(a, b) &#123;
    return b.reduce(function(i, el) &#123;
        return el == a[i] ? i + 1 : i;
    &#125;, 0) == a.length;
&#125;

var a = [1,2,3];
var b = [0,1,4,3,9,10,2,5,6]; // 1,2,3 in wrong order
var c = [0,4,1,5,6,2,8,3,5];  // 1,2,3 in right order

console.log(compare(a,b)  ==  false);
console.log(compare(a,c)  ==  true);
console.log(compare2(a,b) ==  false);
console.log(compare2(a,c) ==  true);
</code></pre>
</li>
<li><p>Json</p>
<pre><code class="javascript">// json 序列化  
var string = JSON.stringify(object);
var string2 = JSON.stringify(object, (key, value) =&gt; &#123;
    if (key === &quot;phone&quot; &amp;&amp; value) &#123;
        return value.replace(/^(\d&#123;3&#125;)\d*(\d&#123;2&#125;)$/, &quot;$1***$2&quot;); // 脱敏
    &#125;
    return value;
&#125;, 4); // 文本添加缩进：空格、换行符。为 4 表示 4 个空格（最大为 10）；为 &quot;\t&quot; 表示 1 个制表符。
// json 反序列化
var object = JSON.parse(string);

// 格式化显示 json
document.body.innerHTML = `&lt;pre&gt;$&#123;JSON.stringify(obj, null, &quot;\t&quot;)&#125;&lt;/pre&gt;`;
</code></pre>
</li>
<li><p>Console</p>
<pre><code class="javascript">console.log(&quot;this is log message&quot;);
console.info(&quot;this is info message&quot;);
console.warn(&quot;this is warn message&quot;);
console.error(&quot;this is error message&quot;);

console.log(
    &quot;Nothing here %cHi Cat %cHey Bear&quot;,  // Console Message
    &quot;color: blue&quot;, &quot;color: red&quot; // CSS Style
);
console.log(&quot;\x1b[33m%s\x1b[0m&quot;, &quot;yellow&quot;); // nodejs 控制台设置颜色

// 1.将css样式传递给数组
const styles = [ 
    &quot;color:green&quot;,
    &quot;background:yellow&quot;,
    &quot;font-size:30px&quot;,
    &quot;border:1px solid red&quot;,
    &quot;text-shadow:2px 2px black&quot;,
    &quot;padding:10px&quot;
].join(&quot;;&quot;); // 2.连接单个数组项并将它们连接成一个用分号分隔的字符串（;）
// 3.传递样式变量
console.log(&quot;%cHello There&quot;, styles);
// or
console.log(&quot;%c%s&quot;, styles, &quot;Some Important Message Here&quot;);

console.log(&quot;%d 年 %d 月 %d 日&quot;, 2011, 3, 26); // 占位符

console.group(&quot;第一组信息&quot;);
console.log(&quot;第一组第一条&quot;);
console.log(&quot;第一组第二条&quot;);
console.groupEnd();
console.group(&quot;第二组信息&quot;);
console.log(&quot;第二组第一条&quot;);
console.groupEnd();

console.dir(&#123; // 显示一个对象所有的属性和方法
    name: &quot;zhangsan&quot;
&#125;);

console.dirxml(document.getElementById(&quot;info&quot;)); // 显示网页的某个节点（node）所包含的html/xml代码

console.assert(year === 2020, &quot;not equal&quot;); // 判断一个表达式或变量是否为真。如果结果为否，则在控制台输出一条相应信息，并且抛出一个异常

console.trace(); // 追踪函数的调用轨迹/调用栈

console.time(&quot;控制台计时器一&quot;);
for (var i = 0; i &lt; 1000; i++) &#123;
    for (var j = 0; j &lt; 1000; j++) &#123;&#125;
&#125;
console.timeEnd(&quot;控制台计时器一&quot;); // 显示代码的运行时间

console.profile(&quot;性能分析器&quot;);
// ...
console.profileEnd(); // 分析程序各个部分的运行时间

// 通过表格的形式打印数组和对象
console.table([&#123; name: &quot;zhangsan&quot; &#125;]);
</code></pre>
</li>
<li><p>async 和 await</p>
<pre><code class="javascript">// async 用于申明一个 function 是异步的，而 await 用于等待一个异步方法执行完成。await 只能出现在 async 函数中
function sleep(ms) &#123;
    return new Promise((resolve, reject) =&gt; &#123;
        setTimeout(resolve, ms);
    &#125;);
&#125;

async function print(value, ms) &#123;
    await sleep(ms);
    console.log(value);
&#125;

print(&quot;hello world&quot;, 50); // 指定 50 毫秒以后，输出 hello world
</code></pre>
<pre><code class="javascript">(async () =&gt; &#123;
    for (let i = 0; i &lt; 100; i++) &#123;
        const promise = fetch(&quot;https://127.0.0.1/greeting&quot;);
        const body = await (await promise).json();
        console.info(`The $&#123;i&#125;st request with response is`, body);
    &#125;
&#125;)();
</code></pre>
<pre><code class="javascript">// 仿 fetch 方法实现
function fetch(url) &#123;
    return new Promise(function (resolve, reject) &#123;
        var xhr = new XMLHttpRequest();
        xhr.open(&quot;GET&quot;, url, true);
        xhr.onreadystatechange = function () &#123;
            if(xhr.readyState == 4) &#123;
                if(xhr.status == 200) &#123;
                    resolve(xhr.responseText);
                &#125; else &#123;
                    reject(&quot;Server response failed.&quot;);
                &#125;
            &#125;
        &#125;;
        xhr.send(null);
    &#125;);
&#125;
fetch(&quot;http://www.baidu.com&quot;).then(function (res) &#123;
    console.info(res);
&#125;).catch(function (err) &#123;
    console.log(err);
&#125;);
</code></pre>
<blockquote>
<ul>
<li>async 与 await 配套使用，await 必须在 async 方法内部，await 返回结果为 Promise 对象中执行结果，即 resolved 或 rejected 的值</li>
<li>await 后面跟 Promise 对象或值，如果是值，则会转到一个立即 resolve 的 Promise 对象；async 返回一个 Promise 对象，如果是值，则自动包装为 Promise</li>
<li>async 方法中如果有多个 await，如果有一个 await 状态是 reject，则后面操作不会继续执行</li>
<li>await 用来串行的执行异步操作，并行的可以考虑 Promise.all([p1, p2, …])</li>
</ul>
</blockquote>
</li>
<li><p>其他</p>
<pre><code class="javascript">var as = [&#123; name: &quot;zhangsan&quot;, age: 14 &#125;, &#123; name: &quot;lisi&quot;, age: 15 &#125;];

for (var aa in as[0]) &#123; // for ... in 表示遍历属性
    console.assert(aa == &quot;name&quot; || aa == &quot;age&quot;);
&#125;

for (var a of as) &#123; // for ... of 表示遍历数组，for 循环的性能优于 forEach、map、filter 等
    console.assert(a.name == &quot;zhangsan&quot; || a.name == &quot;lisi&quot;);
&#125;
</code></pre>
<pre><code class="javascript">for (let t = Date.now(); Date.now() - t &lt;= 5000;); // 当前线程等待 5 秒
</code></pre>
<pre><code class="javascript">console.time(); // 计时开始
// console.time(&quot;timer01&quot;);
// ...
console.timeEnd(); // 计时结束，返回时差，单位毫秒，如 default: 944.423095703125ms
// console.timeEnd(&quot;timer01&quot;);
</code></pre>
<pre><code class="javascript">!Object.getOwnPropertyNames(obj).length &amp;&amp; (obj = null); // 如果 obj 是空对象，则赋值 obj 为 null
</code></pre>
</li>
<li><p>getter 和 setter</p>
<pre><code class="javascript">var obj = &#123;
    _val: 0,
    get val(): &#123;
        return this._val;
    &#125;,
    set val(_val): &#123;
        this._val = _val;
    &#125;
&#125;;
</code></pre>
<pre><code class="javascript">Object.defineProperty(obj, &quot;val&quot;, &#123;
    get: function() &#123;
        return this._val;
    &#125;
&#125;);
</code></pre>
</li>
<li><p>动态执行</p>
<pre><code class="javascript">// https://m.jb51.net/article/180809.htm
// 格式：let func = new Function(arg1, arg2, ..., body);
let sum = new Function(&quot;a&quot;, &quot;b&quot;, &quot;return a + b;&quot;);
console.log(sum(1, 2));

console.log(eval(&quot;1 + 2&quot;));
</code></pre>
</li>
<li><p>格式化字符串</p>
<pre><code class="javascript">String.prototype.format = function(...args) &#123;
    if (args.length == 1 &amp;&amp; typeof args[0] == &quot;object&quot;) &#123;
        let k = &quot;&quot;, v = &quot;&quot;;
        return this.replace(/&#123;[A-Za-z]+&#125;/g, (it, i) =&gt; &#123;
            k = it.slice(1, -1);
            v = args[0][k];
            return typeof v != &quot;undefined&quot; ? v : &quot;&quot;;
        &#125;)
    &#125;
    return this.replace(/&#123;(\d+)&#125;/g, (it, i) =&gt; &#123;
        return typeof args[i] != &quot;undefined&quot; ? args[i] : &quot;&quot;;
    &#125;);
&#125;;
console.log(&quot;我是&#123;0&#125;，今年&#123;1&#125;了. &#123;2&#125;&quot;.format(&quot;zhgl&quot;, 42, 0));
console.log(&quot;我是&#123;name&#125;，今年&#123;age&#125;了.&quot;.format(&#123; name: &quot;zhgl&quot;, age: 42 &#125;));
</code></pre>
<pre><code class="javascript">// 数字或字符串，指定长度，不足则前补零
((num, len) =&gt; &#123;
    return (Array(len).join(0) + num).slice(-len);
&#125;)(12, 3); // &quot;012&quot;
</code></pre>
<pre><code class="javascript">// 正则替换为自增数列
let i = 0;
&quot;00000000&quot;.replace(/\d/g, s =&gt; i++); // 012345678
</code></pre>
</li>
<li><p>格式化时间</p>
<pre><code class="javascript">Date.prototype.toString = function(fmt)   
&#123;
    var o = &#123;
        &quot;M+&quot;: date.getMonth() + 1,
        &quot;d+&quot;: date.getDate(),
        &quot;h+&quot;: date.getHours(),
        &quot;m+&quot;: date.getMinutes(),
        &quot;s+&quot;: date.getSeconds(),
        &quot;q+&quot;: Math.floor((date.getMonth() + 3) / 3),
        &quot;S&quot;: date.getMilliseconds()
    &#125;;
    if(/(y+)/.test(fmt)) &#123;
        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));
    &#125;
    for(var k in o) &#123;
        if(new RegExp(&quot;(&quot;+ k +&quot;)&quot;).test(fmt)) &#123;
            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));
        &#125;
    &#125;
    return fmt;
&#125;;
new Date().toString(&quot;yyyy-MM-dd hh:mm:ss&quot;);
</code></pre>
</li>
<li><p>获取 url 参数</p>
<pre><code class="javascript">function getQueryParameter(name) &#123;
    var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;);
    var r = window.location.search.substr(1).match(reg);
    if (r != null) &#123;
        return unescape(r[2]);
    &#125;
    return null;
&#125;
</code></pre>
</li>
<li><p>csv 转 json 对象</p>
<pre><code class="javascript">function parse(csv) &#123;
    const COMMA_REGEX = /,(?=(?:[^\&quot;]*\&quot;[^\&quot;]*\&quot;)*[^\&quot;]*$)/g,
          QUOTES_REGEX = /^&quot;(.*)&quot;$/g;

    let lines = csv.split(&quot;\n&quot;),
        result = [],
        headers = lines[0].split(COMMA_REGEX).map(h =&gt; h.replace(QUOTES_REGEX, &quot;$1&quot;));

    for(let i = 1; i &lt; lines.length; i++) &#123;
        let obj = &#123;&#125;,
            currentline = lines[i].split(COMMA_REGEX);
        for(let j = 0; j &lt; headers.length; j++) &#123;
            obj[headers[j]] = currentline[j].replace(QUOTES_REGEX, &quot;$1&quot;);
        &#125;
        result.push(obj);
    &#125;
    return result;
&#125;
// parse(`id,name\n1,zhangsan\n`)
</code></pre>
</li>
<li><p>数组分页</p>
<pre><code class="javascript">function pagination(index, size, array) &#123;
    var offset = (index - 1) * size;
    return (offset + size &gt;= array.length) ? array.slice(offset, array.length) : array.slice(offset, offset + size);
&#125;
// pagination(1, 10, [...])
</code></pre>
</li>
<li><p>生成器函数</p>
<pre><code class="javascript">function * gen()&#123;
    yield 10;
    y = yield &quot;foo&quot;;
    yield y;
&#125;

var gen_obj = gen();
console.log(gen_obj.next()); // &#123; value: 10, done: false &#125;
console.log(gen_obj.next()); // &#123; value: &quot;foo&quot;, done: false &#125;
console.log(gen_obj.next(11)); // &#123; value: 11, done: false &#125;
console.log(gen_obj.next()); // &#123; value: undefine, done: true &#125;
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.it1352.com/1013354.html">阻塞队列</a></p>
<pre><code class="javascript">class AsyncBlockingQueue &#123;
    constructor() &#123;
        // invariant: at least one of the arrays is empty
        this.resolvers = [];
        this.promises = [];
    &#125;
    _add() &#123;
        this.promises.push(new Promise(resolve =&gt; &#123;
            this.resolvers.push(resolve);
        &#125;));
    &#125;
    enqueue(t) &#123;
        // if (this.resolvers.length) this.resolvers.shift()(t);
        // else this.promises.push(Promise.resolve(t));
        if (!this.resolvers.length) this._add();
        this.resolvers.shift()(t);
    &#125;
    dequeue() &#123;
        if (!this.promises.length) this._add();
        return this.promises.shift();
    &#125;
    // now some utilities:
    isEmpty() &#123; // there are no values available
        return !this.promises.length; // this.length == 0
    &#125;
    isBlocked() &#123; // it&#39;s waiting for values
        return !!this.resolvers.length; // this.length &lt; 0
    &#125;
    get length() &#123;
        return this.promises.length - this.resolvers.length;
    &#125;
&#125;

let queue = new AsyncBlockingQueue();
let a = await queue.dequeue(); // 这里会阻塞，直到 queue.enqueue 调用
console.asset(a == &quot;hello, world&quot;);

// 新开启一个线程执行如下
queue.enqueue(&quot;hello, world&quot;);
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7f0d3785b54a">防抖、节流</a></p>
<pre><code class="javascript">// 防抖：在一定时间内，触发多次事件，只认第一次触发的，到了时间结束执行事件
function throttle(fn, time) &#123;
    let oldTime = 0,
        timer = null;
    return () =&gt; &#123;
        const nowTime = new Date();
        if (nowTime - oldTime &gt;= time) &#123;
            fn();
            oldTime = nowTime;
        &#125;
    &#125;
&#125;

// 节流：在一定时间内，触发多次事件，只认最后一次触发的并且重置时间，到了时间结束执行事件
function debounce(fn, wait, immediate) &#123; // 立即执行，停止触发 n 秒后，才可以重新触发执行
    let timer;
    return function () &#123;
        if (timer) clearTimeout(timer);
        if (immediate) &#123;
            // 如果已经执行过，不再执行
            var callNow = !timer;
            timer = setTimeout(() =&gt; &#123;
                timer = null;
            &#125;, wait);
            if (callNow) &#123;
                fn.apply(this, arguments);
            &#125;
        &#125; else &#123;
            timer = setTimeout(() =&gt; &#123;
                fn.apply(this, arguments);
            &#125;, wait);
        &#125;
    &#125;
&#125;

// containr.addEventListener(&quot;scroll&quot;, debounce(onScroll, 1000), false);
</code></pre>
</li>
<li><p>监听事件</p>
<pre><code class="javascript">(function () &#123;
    window.addEventListener(&quot;click&quot;, function (event) &#123;
        console.info(&quot;The event of click triggered on location (%s, %s) in browser.&quot;, event.clientX, event.clientY);
        console.info(&quot;The event of click triggered on location (%s, %s) in screen.&quot;, event.screenX, event.screenY);
    &#125;);
&#125;)();
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jyb123/article/details/86574365">自定义事件</a></p>
<pre><code class="javascript">// 添加一个事件监听器
window.addEventListener(&quot;myEvent&quot;, function(e) &#123;
    console.info(&quot;the data received is&quot;, e.detail);
&#125;);

// var event = new Event(&quot;myEvent&quot;);
// 创建一个支持冒泡且不能被取消的事件
var event = new Event(&quot;myEvent&quot;, &#123;
    &quot;bubbles&quot;: true,
    &quot;cancelable&quot;: false
&#125;);
// 创建一个事件，并传递自定义数据
var event = new CustomEvent(&quot;myEvent&quot;, &#123;
    &quot;detail&quot;: &#123; // 自定义数据需要通过 CustomEvent.detail 属性传递
        &quot;greeting&quot;: &quot;hello, world&quot;
    &#125;
&#125;);

// 分发事件
window.dispatchEvent(event);
</code></pre>
</li>
<li><p>float to IEEE</p>
<pre><code class="javascript">((f) =&gt; &#123;
    var buf = new ArrayBuffer(4);
    (new Float32Array(buf))[0] = f;
    return (new Uint32Array(buf))[0];
&#125;)(0.5); // 1056964608
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Typed_arrays">类型化数组</a><br>  类型化数组是一种类似数组的对象，并提供了一种用于访问原始二进制数据的机制。</p>
<ul>
<li><p>ArrayBuffer</p>
<pre><code class="javascript">// 创建一个 16 字节固定长度的缓冲
var buffer = new ArrayBuffer(16);

// 获取数据的字节长度
console.info(buffer.byteLength); // 16

// 在实际开始操作这个缓冲之前，需要创建一个视图。我们将创建一个视图，此视图将把缓冲内的数据格式化为一个 32 位的有符号整数数组
var int32View = new Int32Array(buffer);

// 现在我们可以像普通数组一样访问该数组中的元素
for (var i = 0; i &lt; int32View.length; i++) &#123;
    int32View[i] = i * 2;
&#125;
// 该代码会将数组以0, 2, 4 和 6填充 （一共4个4字节元素，所以总长度为16字节）
</code></pre>
<blockquote>
<ul>
<li>ArrayBuffer 又称类型化数组，是一个二进制数据的原始缓存区，无法直接读取或者写入（也就是说只能存放 0,1 并且不能直接修改和读取）</li>
<li>数组是放在堆中，ArrayBuffer 数组则把数据放在栈中（所以取数据时后者快）</li>
<li>可以根据需要传递类型化数组或者 DataView 对象来解释原始缓存区</li>
<li>ArrayBuffer 初始化后固定大小，数组则可以自由增减。</li>
</ul>
</blockquote>
</li>
<li><p>数据视图 DataView</p>
</li>
<li><p>Uint8Array</p>
<pre><code class="javascript">// 创建一个 Uint8Array
let uint8array = new Uint8Array([1, -1, 999]);

// Uint8Array 转 Array
Array.from(uint8array); // [1, 255, 231] // 231 = 999 % 256
[].slice.call(uint8array); // [1, 255, 231]
</code></pre>
</li>
</ul>
</li>
<li><p>大额数值数据容量单位转换</p>
<pre><code class="javascript">((bytes) =&gt; &#123;
    if (bytes === 0) return &quot;0 B&quot;;
    let k = 1000, // or 1024
        sizes = [&quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;],
        i = Math.floor(Math.log(bytes) / Math.log(k));
    return (bytes / Math.pow(k, i)).toPrecision(3) + &quot; &quot; + sizes[i];
&#125;)(8164674); // 8.16 MB
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/97188370">锁</a></p>
<pre><code class="javascript">class Lock &#123;
    constructor() &#123;
        this.locked = null;
    &#125;
    async lock() &#123;
        if (this.locked === null)
            this.locked = [];
        else
            await new Promise(res =&gt; this.locked.push(res));
    &#125;
    unlock() &#123;
        if (this.locked.length)
            this.locked.shift()();
        else
            this.locked = null;
    &#125;
&#125;

(async () =&gt; &#123;
    const a = new Lock();
    await a.lock();
    console.log(&quot;locked&quot;);
    a.unlock();
&#125;)().catch (err =&gt; &#123;
    console.log(err);
&#125;);
</code></pre>
</li>
<li><p>函数柯里化</p>
<pre><code class="javascript">function currying(reg) &#123;
    return function(txt) &#123;
        return reg.test(txt)
    &#125;
&#125;

let hasNumber = currying(/\d+/g);
hasNumber(&quot;test1&quot;); // true
</code></pre>
</li>
<li><p>Web Worker  </p>
<blockquote>
<p>当在 HTML 页面中执行脚本时，页面是不可响应的，直到脚本已完成。Web worker 是运行在后台的 JavaScript，独立于其他脚本（在新的独立的线程中运行），不会影响页面的性能，同时也不能操作 DOM 元素。</p>
</blockquote>
<ol>
<li><p>创建 Web Worker 文件，如 greeting_worker.js</p>
<pre><code class="javascript">setInterval(function() &#123;
    postMessage(&quot;hello, world&quot;); // 向 HTML 页面传回一段消息
&#125;, 5000);
</code></pre>
</li>
<li><p>HTML 页面中调用如下</p>
<pre><code class="javascript">if(typeof(Worker) === &quot;undefined&quot;) &#123;
    console.error(&quot;Sorry! No Web Worker support.&quot;);
&#125;

let worker;
if(typeof(worker) === &quot;undefined&quot;) &#123; // 检测是否存在 worker，如果不存在，创建一个新的 web worker 对象，然后运行 &quot;greeting_worker.js&quot; 中的代码
    worker = new Worker(&quot;demo_workers.js&quot;);
&#125;
worker.onmessage = function(event) &#123; // 当 web worker 传送消息时，会执行事件监听器中的代码。来自 web worker 的数据会存储于 event.data 中
    console.info(&quot;receive message&quot;, event.data);
&#125;;

worker.terminate(); // 终止 web worker，并释放浏览器/计算机资源
worker = undefined; // 把 worker 变量设置为 undefined，在其被终止后，可以重复使用该代码
</code></pre>
</li>
</ol>
</li>
<li><p>Service Worker</p>
<blockquote>
<p>Service Worker 基于 Web Worker，是运行在浏览器后台的 JS 程序，可以操控浏览器端的存储、网络请求、消息推送等。</p>
</blockquote>
<ol>
<li><p>创建 Service Worker 文件，如 service_worker.js</p>
<pre><code class="javascript">// 监听安装事件，install 事件一般是被用来设置你的浏览器的离线缓存逻辑
this.addEventListener(&quot;install&quot;, function (event) &#123;
    // 通过这个方法可以防止缓存未完成，就关闭 Service Worker
    event.waitUntil(
        // 创建一个名叫 v1 的缓存版本
        caches.open(&quot;v1&quot;).then(function (cache) &#123;
            // 指定要缓存的内容，地址为相对于跟域名的访问路径
            return cache.addAll([
                &quot;./index.html&quot;
            ]);
        &#125;)
    );
&#125;);

// 注册 fetch 事件，拦截全站的请求
this.addEventListener(&quot;fetch&quot;, function(event) &#123;
     event.respondWith(
         // 在缓存中匹配对应请求资源直接返回
         caches.match(event.request)
     );
&#125;);
</code></pre>
</li>
<li><p>在 HTML 页面中注册 Service Worker 如下</p>
<pre><code class="javascript">// 判断当前浏览器是否支持 Service Worker
if (&quot;serviceWorker&quot; in navigator) &#123;
    // 当页面加载完成就创建一个 Service Worker
    window.addEventListener(&quot;load&quot;, function () &#123;
        // 创建并指定对应的执行内容
        navigator.serviceWorker.register(&quot;./service_worker.js&quot;, &#123;
            scope: &quot;./&quot; // 可选，可以用来指定 service worker 控制的内容的子目录。在这个例子里，我们指定了 &quot;/&quot;，表示根网域下的所有内容，这也是默认值。
        &#125;)
            .then(function (registration) &#123;
                console.log(&quot;Service Worker registration successful with scope: &quot;, registration.scope);
            &#125;)
            .catch(function (err) &#123;
                console.log(&quot;Service Worker registration failed: &quot;, err);
            &#125;);
    &#125;);
&#125;
</code></pre>
</li>
</ol>
</li>
<li><p>Shared Worker</p>
</li>
<li><p>重试机制 retry</p>
<pre><code class="javascript">const retry = (fn, times = [1000, 1500]) =&gt; &#123;
    return new Promise(async (resolve, reject) =&gt; &#123;
        let n = 0, s = false;
        while (true) &#123;
            switch (n) &#123;
                case 0:
                    await fn(r =&gt; &#123;
                        s = true;
                        resolve();
                    &#125;, reject);
                    n = s == true ? 2 : 1;
                    break;
                case 1:
                    let t = times.shift();
                    if (t) &#123;
                        await new Promise(r =&gt; setTimeout(r, t));
                        i = 0;
                    &#125; else &#123;
                        i = 2;
                    &#125;
                    break;
                case 2:
                    return;
            &#125;
        &#125;
    &#125;);
&#125;
retry(async (resolve, reject) =&gt; &#123;
    await fetch(&quot;/&quot;).then(r =&gt; &#123;
        resolve(r);
    &#125;).catch(e =&gt; &#123;
        reject(e);
    &#125;);
&#125;);
</code></pre>
</li>
<li><p>延迟队列 DelayQueue</p>
</li>
<li><p>js 函数转代码字符串</p>
<pre><code class="javascript">let func = n =&gt; `hello, $&#123;n || &quot;world&quot;&#125;`;
func.toString() // &#39;n =&gt; `hello, $&#123;n || &quot;world&quot;&#125;`&#39;
</code></pre>
</li>
</ul>
<h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a><a target="_blank" rel="noopener" href="https://www.sitepoint.com/client-side-storage-options-comparison/">存储</a></h2><ul>
<li><p>DOM 节点（读写快，但页面刷新会丢失）</p>
<blockquote>
<p>通过以 “data-“ 为前缀的数据集属性存储和读取，对象类型需要序列化为字符串存储。</p>
</blockquote>
<pre><code class="javascript">const main = document.querySelector(&quot;main&quot;);

// 赋值
main.dataset.name = &quot;zhangsan&quot;;
main.dataset.user = JSON.stringify(&#123; name: &quot;zhangsan&quot; &#125;);

// 取值
console.info(JSON.parse(main.dataset.user).name);
</code></pre>
</li>
<li><p>Local Storage 和 Session Storage（每个域名下只有 5 MB 空间，值需要序列化为字符串类型）</p>
<pre><code class="javascript">// localStorage 用于持久化的本地存储，存储资料在客户端（client）的浏览器上，除非主动删除数据，否则数 据是永远不会过期的。
localStorage.setItem(&quot;name&quot;, &quot;zhangsan&quot;);
localStorage.getItem(&quot;name&quot;);
localStorage.removeItem(&quot;name&quot;);

// sessionStorage 用于本地存储一个会话中的数据，这些数据只有在同一个会话中的页面才能访问并且会话结束，例如关闭窗口后，数据也会随之被销毁。它是一种会话级别的存储。
sessionStorage.setItem(&quot;name&quot;, &quot;zhangsan&quot;);
sessionStorage.getItem(&quot;name&quot;);
</code></pre>
</li>
<li><p>IndexedDB（索引数据库）（取决于设备，最少 1 GB 空间，最多剩余磁盘空间的 60%，读写快）</p>
<pre><code class="javascript">(async () =&gt; &#123;
    const db = await new Promise((resolve, reject) =&gt; &#123;
        const request = indexedDB.open(&quot;myDB&quot;, 1.0);
        request.onsuccess = e =&gt; &#123;
            resolve(e.target.result);
        &#125;;
        request.onerror = e =&gt; &#123;
            console.error(`indexedDB error: $&#123; e.target.errorCode &#125;`);
        &#125;;
        request.onupgradeneeded = e =&gt; &#123;
            const store = e.target.result.createObjectStore(&quot;todo&quot;, &#123; keyPath: &quot;id&quot;, autoIncrement: true &#125;);
        &#125;;
    &#125;);

    db.transaction([&quot;todo&quot;], &quot;readwrite&quot;)
        .objectStore(&quot;todo&quot;)
        .add(&#123; task: &quot;do something&quot; &#125;)
        .onsuccess = () =&gt; console.log(&quot;added&quot;);

    db.transaction([&quot;todo&quot;], &quot;readonly&quot;)
        .objectStore(&quot;todo&quot;)
        .get(1)
        .onsuccess = data =&gt; console.log(data.target.result);
    // &#123; id: 1, task: &quot;do something&quot; &#125;
&#125;)();
</code></pre>
</li>
<li><p>Cache API（适用于缓存网络请求如网页等）</p>
<pre><code class="javascript">(async () =&gt; &#123;
    const cache = await caches.open(&quot;myCache&quot;);

    // 请求并保存
    await cache.add(&quot;/greeting&quot;);
    await cache.add(new Request(&quot;/greeting&quot;, &#123;
        method: &quot;GET&quot;,
        headers: new Headers(&#123;
            &quot;Content-Type&quot;: &quot;application/json&quot;
        &#125;)
    &#125;));

    // 查询
    console.info(&quot;the cache response context is&quot;, await (await caches.match(&quot;/greeting&quot;))).text());
    
    // 请求并更新
    const response = await fetch(&quot;/greeting&quot;);
    await cache.put(&quot;/greeting&quot;, response);
    
    // 删除
    await cache.delete(&quot;/greeting&quot;);

    await cache.delete(&quot;myCache&quot;);
&#125;)();
</code></pre>
</li>
<li><p>文件系统访问 API</p>
<pre><code class="javascript">// 使用 `try...catch` 可以捕获用户取消选择时抛出的错误，如果你对错误不在意，不捕获也行
try &#123;
    const [handle] = await showOpenFilePicker(&#123;
        multiple: false, // 只选择一个文件
        types: [
           &#123;
               description: &quot;Navlang Files&quot;,
               accept: &#123;
                  &quot;text/x-navlang&quot;: &quot;.nav&quot;
               &#125;
           &#125;
        ],
        excludeAcceptAllOption: true
    &#125;);
&#125; catch (e) &#123;
    if (e.message.indexOf(&quot;The user aborted a request&quot;) === -1) &#123;
        console.error(e);
        return;
    &#125;
&#125;

// 如果没有选择文件，就不需要继续执行了
if (!handle) &#123;
    return;
&#125;

// 这里的 options 用来声明对文件的权限，能否写入
const options = &#123;
    writable: true,
    mode: &quot;readwrite&quot;
&#125;;
// 然后向用户要求权限
if ((await handle.queryPermission(options)) !== &quot;granted&quot; &amp;&amp; (await handle.requestPermission(options)) !== &quot;granted&quot;) &#123;
    alert(&quot;Please grant permissions to read &amp; write this file.&quot;);
    return;
&#125;

// 前面获取的是 FileHandle，需要转换 File 才能用
const file = await handle.getFile();
// 接下来，`file` 就是普通 File 实例，你想怎么处理都可以，比如，获取文本内容
const code = await file.text();
</code></pre>
<pre><code class="javascript">async function save(blob) &#123;
    // create handle to a local file chosen by the user
    const handle = await window.showSaveFilePicker();

    // create writable stream
    const stream = await handle.createWritable();

    // write the data
    await stream.write(blob);

    // save and close the file
    await stream.close();
&#125;
</code></pre>
</li>
<li><p>Web SQL（每个域名下 5 MB 空间，读写速度慢）</p>
<blockquote>
<p>Chrome 浏览器数据库（SQLite）位置 “C:\Users%username%\AppData\Local\Google\Chrome\User Data\Default\databases\Databases.db”</p>
</blockquote>
<pre><code class="javascript">var db = openDatabase(&quot;MyData&quot;, &quot;&quot;, &quot;My Database&quot;, 102400);

// 创建一个数据库表，里面有 3 个字段 
db.transaction(function(tx)&#123; 
    tx.executeSql(&quot;CREATE TABLE IF NOT EXISTS InfoData(name TEXT, info TEXT, time INTEGER)&quot;, []); 
&#125;

// 显示所有
db.transaction(function(tx) &#123;      
    // 然后定义了一个回调函数，表明对于结果集的处理 
    tx.executeSql(&quot;SELECT * FROM InfoData&quot;, [], function(tx, rs) &#123; 
        // 遍历结果集，对于每一行，依次调用 showData 来在 table 上创建对于的 html 文本 
        for(var i = 0; i &lt; rs.rows.length; i++)&#123; 
            // 对于 item(i)，也就是某一行记录，我们显示其内容到页面的表格中（构建对应的 HTML 片断） 
            alert(rs.rows.item(i)); 
        &#125; 
    &#125;); 
&#125; 

// 增加数据
db.transaction(function(tx) &#123;      
    // 插入的语句是个模板语句 
    // 插入成功的回调就是在控制台上输入一行日志 
    tx.executeSql(&quot;INSERT INTO InfoData VALUES(?, ?, ?)&quot;, [name, info, time], function(tx, rs) &#123; 
        console.log(&quot;成功保存数据!&quot;); 
    &#125;, 
    // 插入失败的回调就是在控制台上输入一行错误日志 
    function(tx, error) &#123; 
        console.log(error.source + &quot;::&quot; + error.message); 
    &#125;); 
&#125;
</code></pre>
</li>
<li><p>Cookie（每个域名下 80 KB 空间，不同浏览器对每个域名下 Cookie 有个数限制，不应超过 20 个，每个不超过 4 KB）</p>
<pre><code class="javascript">document.cookie = `user=$&#123;encodeURIComponent(JSON.stringify(&#123; name: &quot;zhangsan&quot; &#125;))&#125;`;

document.cookie = &quot;username=zhangsan; expires=Session; domain=.example.com; path=/; secure=true; priority=High;&quot;;
</code></pre>
</li>
<li><p>window.name</p>
<pre><code class="javascript">window.name = JSON.stringify(&#123; name: &quot;zhangsan&quot; &#125;);

console.info(JSON.parse(window.name).name);
</code></pre>
</li>
</ul>
<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><ul>
<li><p>XMLHTTPRequest</p>
<pre><code class="javascript">var xmlhttp = null;
//create xml http request
if (window.XMLHttpRequest) &#123;
    // for all new browsers
    xmlhttp = new XMLHttpRequest();
&#125; else if (window.ActiveXObject) &#123;
    // for IE5 and IE6
    xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
&#125;
//send xml http request
if (xmlhttp != null) &#123;
    xmlhttp.onreadystatechange = function()&#123;
        if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) &#123;
            // 4 = &quot;loaded&quot;
            // 200 = OK
            console.info(&quot;response text: &quot; + xmlhttp.responseText);
        &#125;
    &#125;;
    xmlhttp.open(&quot;GET&quot;, url, true);
    xmlhttp.send(null);
&#125; else &#123;
    console.error(&quot;current browser does not support XMLHTTP.&quot;);
&#125;
</code></pre>
</li>
<li><p>fetch</p>
<pre><code class="javascript">fetch(&quot;https://127.0.0.1/greeting&quot;, &#123;
    method: &quot;post&quot;,
    headers: &#123;
        &quot;Content-Type&quot;: &quot;application/json&quot;
    &#125;,
    body: JSON.stringify(&#123;
        name: &quot;zhangsan&quot;
    &#125;)
&#125;)
.then(response =&gt; response.json())
.then(data =&gt; &#123;
    console.info(&quot;response is&quot;, data);
&#125;)
.catch(error =&gt; console.log(&quot;error is&quot;, error));
</code></pre>
<pre><code class="javascript">await fetch(&quot;https://www.baidu.com&quot;).then(re =&gt; re.text());
await fetch(&quot;http://127.0.0.1/greeting&quot;, &#123; method: &quot;post&quot;, headers: &#123; &quot;Content-Type&quot;: &quot;application/json&quot; &#125;, body: JSON.stringify(&#123; name: &quot;zhangsan&quot; &#125;)&#125;).then(re =&gt; re.json());
</code></pre>
<pre><code class="javascript">fetch(&quot;http://127.0.0.1/greeting&quot;, &#123;
    method: &quot;post&quot;,
    headers: &#123;
        &quot;Content-Type&quot;: &quot;application/json&quot;
    &#125;,
    body: JSON.stringify(&#123; name: &quot;zhangsan&quot; &#125;)
&#125;)
.then(re =&gt; &#123;
    if (re.ok) &#123;
        return re.json();
    &#125;
    throw new Error(&quot;Request reject with status &quot; + re.status);
&#125;)
.then(data =&gt; &#123;
    console.info(&quot;response is&quot;, data);
&#125;);
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2017/05/websocket.html">WebSocket</a></p>
<pre><code class="javascript">var ws = new WebSocket(&quot;wss://echo.websocket.org&quot;);

ws.onopen = function(evt) &#123; 
    console.log(&quot;Connection opened.&quot;); 
    ws.send(&quot;hello, world&quot;);
&#125;;

ws.onmessage = function(evt) &#123;
    console.log(&quot;Received message:&quot;, evt.data);
    ws.close();
&#125;;

ws.onclose = function(evt) &#123;
    // evt.code // 错误码，number 类型
    // evt.reason // 断开原因，string 类型
    // evt.wasClean // 是否正常断开，boolean 类型
    console.log(&quot;Connection closed.&quot;);
&#125;;
</code></pre>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/622a3549728a">EventSource 服务端推送事件</a></p>
<pre><code class="javascript">var es = new EventSource(&quot;/event/source&quot;);

// 收到服务器发生的事件时触发
evtSource.onmessage = function (e) &#123;
    console.log(e.data);
&#125;
// 成功与服务器发生连接时触发
es.onopen = function () &#123;
    console.log(&quot;Server open&quot;)
&#125; 
// 出现错误时触发
es.onerror = function () &#123;
    console.log(&quot;Error&quot;)
&#125;

// 自定义事件
es.addEventListener(&quot;myEvent&quot;, function (e) &#123;
    console.log(e.data);
&#125;, false);
</code></pre>
<p>  nodejs 服务器端实现</p>
<blockquote>
<ul>
<li>需设置响应消息头 “Content-Type” 设置为 “text/event-stream”</li>
<li>报文格式为 “字段:…”，每个事件之间通过空行来分隔<ul>
<li>字段为空白，表示该行是注释，会在处理时被忽略</li>
<li>event: 表示该行用来声明事件的类型。浏览器在收到数据时，会产生对应类型的事件</li>
<li>data: 消息的数据字段。如果该条消息包含多个 data 字段，则客户端会用换行符把它们连接成一个字符串来作为字段值</li>
<li>id: 事件 ID，会成为当前 EventSource 对象的内部属性”最后一个事件 ID”的属性值</li>
<li>retry: 一个整数值，指定了重新连接的时间(单位为毫秒)，如果该字段值不是整数，则会被忽略。默认浏览器每隔 3 秒断线重连</li>
</ul>
</li>
</ul>
</blockquote>
<pre><code class="javascript">var http = require(&quot;http&quot;);
var fs = require(&quot;fs&quot;);

http.createServer(function (req, res) &#123;
    if(req.url === &quot;/sendMessage&quot;) &#123;
        res.writeHead(200, &#123;
            &quot;Content-Type&quot;: &quot;text/event-stream&quot; //设置头信息
        &#125;);

        setInterval(function () &#123;
            res.write(
                // 事件一
                &quot;data:&quot; + new Date().toLocaleTimeString() + &quot;\n\n&quot; + //必须 &quot;\n\n&quot; 结尾
                // 事件二
                &quot;: &#39;这是注释！&#39;&quot; + &quot;\n&quot; +
                &quot;event: myEvent&quot; + &quot;\n&quot; + 
                &quot;data:&quot; + new Date().toLocaleString() + &quot;\n\n&quot;
            );
        &#125;, 1000);
    &#125; else &#123;
        fs.readFile(&quot;./index.html&quot;, function (err, content) &#123;
            res.writeHead(200, &#123;&quot;Content-Type&quot;: &quot;text/html&quot;&#125;);
            res.end(content, &quot;utf-8&quot;);
        &#125;);
    &#125;
&#125;).listen(3000);
</code></pre>
</li>
<li><p>WebRTC</p>
</li>
</ul>
<h2 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h2><h3 id="Jquery"><a href="#Jquery" class="headerlink" title="Jquery"></a>Jquery</h3><pre><code class="javascript">// http://www.youdict.com/root/root.php
$(&quot;table a[target=&#39;_blank&#39;]&quot;).each((index, obj) =&gt; &#123;
    console.info(obj.innerHTML.replace(/,/g, &quot;&quot;));
&#125;);

var arr = new Array(0);
$(&quot;table a[target=&#39;_blank&#39;]&quot;).each((index, obj) =&gt; &#123;
    // arr = arr.concat(obj.innerHTML.replace(/,/g, &quot;&quot;).split(&quot; &quot;));
    arr = arr.concat(obj.innerHTML.replace(/[^a-z]+/g, &quot;&quot;).split(&quot; &quot;));
&#125;);
var set = new Set(arr); // ES6 中支持
arr = Array.from(set); // 去重
console.info(arr);
// document.body.innerHTML = arr.join(&quot; &quot;);

Array.prototype.remove = function(val) &#123; // 定义数组的 remove 拓展方法
    var index = this.indexOf(val);
    if (index &gt; -1) &#123;
        this.splice(index, 1);
    &#125;
&#125;;
for (var i of arr) &#123;
    if (i.length &gt; 4 || i.length &lt; 2) &#123;
        arr.remove(i);
    &#125;
&#125;
</code></pre>
<pre><code class="javascript">$.get(url, data, success(response, status, xhr), dataType);

$.post(url, data, success(data, textStatus, jqXHR), dataType);

$.ajax(&#123;
    type: &quot;POST&quot;,
    url: url,
    data: data,
    success: success,
    dataType: dataType
&#125;);
</code></pre>
<h3 id="使用-vConsole-调试移动端-web"><a href="#使用-vConsole-调试移动端-web" class="headerlink" title="使用 vConsole 调试移动端 web"></a>使用 vConsole 调试移动端 web</h3><pre><code class="html">&lt;!-- 页面中嵌入以下代码，则页面底部会生成 console 框工具 --&gt;
&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vConsole/3.3.4/vconsole.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;var vConsole = new VConsole();&lt;/script&gt;
</code></pre>
<h3 id="lunr-js"><a href="#lunr-js" class="headerlink" title="lunr.js"></a><a target="_blank" rel="noopener" href="https://github.com/olivernn/lunr.js/">lunr.js</a></h3><pre><code class="javascript">var idx = lunr(function () &#123;
    this.field(&quot;title&quot;)
    this.field(&quot;body&quot;)

    this.add(&#123;
        &quot;title&quot;: &quot;Twelfth-Night&quot;,
        &quot;body&quot;: &quot;If music be the food of love, play on: Give me excess of it…&quot;,
        &quot;author&quot;: &quot;William Shakespeare&quot;,
        &quot;id&quot;: &quot;1&quot;
    &#125;)
&#125;);

idx.search(&quot;love&quot;);

// idx2 = lunr.Index.load(idx.toJSON());
idx2 = lunr.Index.load(JSON.parse(JSON.stringify(idx)));

idx2.search(&quot;love&quot;);
</code></pre>
<h3 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f56cde007210?utm_source=oschina-app">v-clock</a><br>  当网络较慢，网页还在加载 Vue.js ，而导致 Vue 来不及渲染，这时页面就会显示出 Vue 源代码。我们可以使用 v-cloak 指令来解决这一问题</p>
</li>
<li><p>外联引用 vant: <van-cell-group> 组件渲染出错<br>  应使用闭合标签的这种写法如 <van-cell></van-cell>。参考 <a target="_blank" rel="noopener" href="https://github.com/youzan/vant/issues/800">https://github.com/youzan/vant/issues/800</a></p>
</li>
</ul>
<h3 id="socket-io"><a href="#socket-io" class="headerlink" title="socket.io"></a><a target="_blank" rel="noopener" href="https://socket.io/get-started">socket.io</a></h3><ul>
<li><p>websocket 服务端</p>
<ol>
<li><p>安装</p>
<pre><code class="bash"># npm install express@4
npm install socket.io
</code></pre>
</li>
<li><p>创建 server.js 如下</p>
<pre><code class="javascript">// const express = require(&quot;express&quot;);
// const app = express();

const http = require(&quot;http&quot;);
const server = http.createServer(
//     app
);

const io = require(&quot;socket.io&quot;)(server);

// app.get(&quot;/&quot;, (req, res) =&gt; &#123;
//     res.sendFile(__dirname + &quot;/index.html&quot;);
// &#125;);

io.on(&quot;connection&quot;, (socket) =&gt; &#123; // 当有客户端连接时触发
    console.log(&quot;a user connected&quot;);

    socket.on(&quot;chat message&quot;, (msg) =&gt; &#123; // 接受客户端 &quot;chat message&quot; 事件
        console.log(&quot;message: &quot; + msg);
    &#125;);

    socket.on(&quot;disconnect&quot;, () =&gt; &#123; // 当有客户端断开连接时触发
        console.log(&quot;user disconnected&quot;);
    &#125;);
&#125;);

server.listen(3000, () =&gt; &#123;
    console.log(&quot;listening on *:3000&quot;);
&#125;);

setInterval(() =&gt; &#123;
    // 向所有连接广播发送 &quot;some event&quot; 事件，并传递对象参数
    io.emit(&quot;some event&quot;, &#123;
        greeting: &quot;hello, all clients&quot;
    &#125;);
&#125;, 5000); // 定时器，每 5 秒执行一次
</code></pre>
</li>
<li><p>运行</p>
<pre><code class="bash">node server.js
</code></pre>
</li>
</ol>
</li>
<li><p>websocket 客户端</p>
<pre><code class="html">&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/socket.io/3.1.3/socket.io.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        // var socket = io(&quot;http://127.0.0.1:3000/&quot;);
        var socket = io();

        socket.emit(&quot;chat message&quot;, &quot;hello, server&quot;);

        socket.on(&quot;some event&quot;, (msg) =&gt; &#123;
            console.log(&quot;message: &quot; + msg);
        &#125;);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ul>
<h3 id="js-sha256"><a href="#js-sha256" class="headerlink" title="js-sha256"></a><a target="_blank" rel="noopener" href="https://github.com/emn178/js-sha256">js-sha256</a></h3><ol>
<li>引入<pre><code class="html">https://cdn.bootcdn.net/ajax/libs/js-sha256/0.9.0/sha256.min.js
</code></pre>
</li>
<li>语法<pre><code class="javascript">sha256(&quot;The quick brown fox jumps over the lazy dog&quot;); // d7a8fbb307d7809469ca9abcb0082e4f8d5651e46d3cdb762d02d0bf37c9e592
</code></pre>
</li>
</ol>
<h3 id="jsencrypt"><a href="#jsencrypt" class="headerlink" title="jsencrypt"></a>jsencrypt</h3><ol>
<li><p>引入 jsencrypt</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jsencrypt/3.1.0/jsencrypt.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
</li>
<li><p>语法</p>
<pre><code class="javascript">let PUBLIC_KEY = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8HMr2CBpoZPm3t9tCVlrKtTmI4jNJc7/HhxjIEiDjC8czP4PV+44LjXvLYcSV0fwi6nE4LH2c5PBPEnPfqp0g8TZeX+bYGvd70cXee9d8wHgBqi4k0J0X33c0ZnW7JruftPyvJo9OelYSofBXQTcwI+3uIl/YvrgQRv6A5mW01QIDAQAB&quot;, // 公钥
    PRIVATE_KEY = &quot;MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBALwcyvYIGmhk+be320JWWsq1OYjiM0lzv8eHGMgSIOMLxzM/g9X7jguNe8thxJXR/CLqcTgsfZzk8E8Sc9+qnSDxNl5f5tga93vRxd5713zAeAGqLiTQnRffdzRmdbsmu5+0/K8mj056VhKh8FdBNzAj7e4iX9i+uBBG/oDmZbTVAgMBAAECgYEAmgNU5NTDkj9B+Pnt6UU8doSjw3+3j+bV2K2yS3QUOvAUus/Ax7x6ktjWxzCXvDY9IfUil2RNv9vtKEAqYLCWjc+lf8PV/yH1b7NEgyeAPBXtAJRoOnmYL2bdPW92kP9KgxJruF6Dz/C5AmMOncsvq8ABD+9Darn4p8dwj2ZC4O0CQQDf/AHmZsQokEItfCy4mHS9UbxbfIhEUv1ApPh/+Sr7NkJkHWYCtBQo+8jKO6zurAZQgWBPD1XX2UE4R+VIiZazAkEA1wAqtMvGhccyRZr+6kpkpDIa8+9jOE+nGUzqTDvgCID6as8AzOONFVVK6m/UUqkhcJ8Qu1pF36BGojy5BX2KVwJBAJSFpbji0hXXupowqfLp3RcgmNbNWAp+QUJZYhJx5cdYbmO2fssyH+AhPT6knYJR/YnqkDM8hv6vKCkqu2YDHjMCQAOA8TE5EOclM+CGghj3VWSHnIDVKdzFD4gOBNNxNlltIKeU8AJmwunSFgJ0CBXAw9a+ANvMwM7AIeaK7sj0HskCQAvxfDCq7gaNx+pfu0FHG8Gix08A/A6foggBl1fVu+L9sr9ZuOQ3HbXnl28F9ewuB9xdjnLUDjp7W7U0pB+vKoQ=&quot;, // 私钥

// 使用公钥加密
let encrypt = new JSEncrypt();
encrypt.setPublicKey(&quot;-----BEGIN PUBLIC KEY-----&quot; + PUBLIC_KEY + &quot;-----END PUBLIC KEY-----&quot;);
let encrypted = encrypt.encrypt(&quot;hello, world&quot;);
console.log(&quot;加密后数据&quot;, encrypted);

// 使用私钥解密
let decrypt = new JSEncrypt();
decrypt.setPrivateKey(&quot;-----BEGIN RSA PRIVATE KEY-----&quot; + PRIVATE_KEY + &quot;-----END RSA PRIVATE KEY-----&quot;);
let decrypted = decrypt.decrypt(encrypted);
console.log(&quot;解密后数据&quot;, decrypted);

console.assert(&quot;hello, world&quot; === decrypted);
</code></pre>
</li>
</ol>
<h3 id="multiavatar"><a href="#multiavatar" class="headerlink" title="multiavatar"></a><a target="_blank" rel="noopener" href="https://github.com/multiavatar/Multiavatar">multiavatar</a></h3><ol>
<li>引入<pre><code class="html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@multiavatar/multiavatar/multiavatar.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
</li>
<li>语法<pre><code class="javascript">multiavatar(&quot;meter&quot;) // &quot;&lt;svg ...&lt;/svg&gt;&quot;
</code></pre>
<pre><code class="javascript">let image = new Image();
image.src = &quot;data:image/svg+xml,&quot; + multiavatar(&quot;Binx Bond&quot;);
</code></pre>
<blockquote>
<p>好看的头像：”appinn”、”meter”</p>
</blockquote>
</li>
</ol>
<h3 id="tensorflow-js"><a href="#tensorflow-js" class="headerlink" title="tensorflow.js"></a>tensorflow.js</h3><h3 id="使用-mark-js-标注网页内容（关键词前后包裹-mark-标签，如-“hello“）"><a href="#使用-mark-js-标注网页内容（关键词前后包裹-mark-标签，如-“hello“）" class="headerlink" title="使用 mark.js 标注网页内容（关键词前后包裹 mark 标签，如 “hello“）"></a>使用 mark.js 标注网页内容（关键词前后包裹 mark 标签，如 “<mark>hello</mark>“）</h3><ol>
<li>引入<pre><code class="html">&lt;script src=&quot;https://cdn.jsdelivr.net/mark.js/latest/&quot;&gt;&lt;/script&gt;
</code></pre>
</li>
<li>语法<pre><code class="javascript">new Mark(document.body).mark(&quot;hello&quot;);
</code></pre>
</li>
</ol>
<h3 id="qrcodejs"><a href="#qrcodejs" class="headerlink" title="qrcodejs"></a><a target="_blank" rel="noopener" href="https://github.com/davidshimjs/qrcodejs">qrcodejs</a></h3><ol>
<li><p>引入</p>
</li>
<li><p>语法</p>
<pre><code class="javascript">var div = document.createElement(&quot;div&quot;);
document.body.appendChild(div);

new QRCode(div, &quot;hello, world&quot;);
</code></pre>
</li>
</ol>
<h3 id="Monaco-Editor"><a href="#Monaco-Editor" class="headerlink" title="Monaco Editor"></a><a target="_blank" rel="noopener" href="https://github.com/microsoft/monaco-editor">Monaco Editor</a></h3><ol>
<li><p>示例</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no&quot;&gt;&lt;!-- 网页的宽度自动适应手机屏幕的宽度 --&gt;
    &lt;title&gt;Cube&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; data-name=&quot;vs/editor/editor.main&quot; href=&quot;https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.31.0/min/vs/editor/editor.main.css&quot;&gt;
    &lt;style&gt;
        * &#123;
            margin: 0;
            padding: 0;
        &#125;

        html,
        body &#123;
            width: 100%;
            height: 100%;
        &#125;

        html &#123;
            overflow: hidden;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id=&quot;container&quot; style=&quot;width: 100%; height: 100%;&quot;&gt;&lt;/div&gt;

    &lt;script&gt;var require = &#123; paths: &#123; &quot;vs&quot;: &quot;https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.31.0/min/vs&quot; &#125; &#125;;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.31.0/min/vs/loader.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.31.0/min/vs/editor/editor.main.nls.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.31.0/min/vs/editor/editor.main.js&quot;&gt;&lt;/script&gt;

    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/typescript/4.5.4/typescript.min.js&quot;&gt;&lt;/script&gt;

    &lt;script&gt;
        (function () &#123;
            // compiler options
            monaco.languages.typescript.typescriptDefaults.setCompilerOptions(&#123;
                target: monaco.languages.typescript.ScriptTarget.ES2016,
                allowNonTsExtensions: true,
                moduleResolution: monaco.languages.typescript.ModuleResolutionKind.NodeJs,
                module: monaco.languages.typescript.ModuleKind.CommonJS,
                noEmit: true,
                // noLib: true,
                experimentalDecorators: true,
                typeRoots: [&quot;node_modules/@types&quot;]
            &#125;);

            // diagnostics options
            // monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(&#123;
            //     noSemanticValidation: false, // 关闭语义校验，默认为 false
            //     noSyntaxValidation: false // 关闭语法校验，默认为 false
            // &#125;);

            // extra libraries
            monaco.languages.typescript.typescriptDefaults.addExtraLib(`/*\n * Post method\n */\ndeclare function Post(path: string): Function;`);
            monaco.languages.typescript.typescriptDefaults.addExtraLib(`export let user = &#123; name: &quot;zhangsan&quot; &#125;;`, &quot;node_modules/@types/user/index.d.ts&quot;);

            let editor = monaco.editor.create(document.getElementById(&quot;container&quot;), &#123;
                language: &quot;typescript&quot;,
                theme: &quot;vs-dark&quot;,
                value: &quot;// code here&quot;,
                model: monaco.editor.createModel(&quot;&quot;, &quot;typescript&quot;, new monaco.Uri(&quot;main.tsx&quot;)),
                options: &#123;
                    selectOnLineNumbers: true,
                    roundedSelection: false,
                    readOnly: false,
                    cursorStyle: &quot;line&quot;,
                    automaticLayout: true
                &#125;
            &#125;);
            
            editor.setValue(`import &#123; user &#125; from &quot;user&quot;;\n\nclass Greeting &#123;\n\t@Post(&quot;/greeting&quot;)\n\tpublic greeting(name: string = &quot;world&quot;): string &#123;\n\t\treturn \`hello, \$&#123;user?.name ?? name&#125;\`;\n\t&#125;\n&#125;`);

            document.onkeydown = function (e) &#123;
                let keyCode = e.keyCode || e.which || e.charCode,
                    ctrlKey = e.ctrlKey || e.metaKey;
                if (ctrlKey &amp;&amp; keyCode == 82) &#123; // Ctrl + R
                    let tsSrc = editor.getValue(),
                        jsSrc = ts.transpileModule(tsSrc, &#123;
                        compilerOptions: &#123; module: ts.ModuleKind.CommonJS &#125;
                    &#125;)?.outputText;

                    var fd = window.open(&quot;about:blank&quot;, &quot;&quot;, &quot;width=600,height=450&quot;);
                    setTimeout(() =&gt; &#123;
                        fd.document.open()
                        fd.document.write(`&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&lt;script&gt;console.info=function(message, ...optionalParams)&#123;document.write(message + &quot;&lt;br/&gt;&quot;);&#125;&lt;\/script&gt;&lt;script&gt;$&#123;jsSrc&#125;&lt;\/script&gt;&lt;\/body&gt;&lt;\/html&gt;`);
                        fd.document.close();
                    &#125;, 50);

                    e.preventDefault();
                    return false;
                &#125;
            &#125;
        &#125;)();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li><p>代码提示</p>
<pre><code class="javascript">monaco.languages.registerCompletionItemProvider(&quot;sql&quot;, &#123;
    provideCompletionItems: function (model, position) &#123;
        // 获取提示符 sym
        const line = position.lineNumber, // 获取当前行数
            column = position.column, // 获取当前列数
            content = model.getLineContent(line); // 获取当前输入行的所有内容
        const sym = content[column - 2]; // 通过下标来获取当前光标后一个内容，即为刚输入的内容
        let textUntilPosition = model.getValueInRange(&#123;
            startLineNumber: 1,
            startColumn: 1,
            endLineNumber: position.lineNumber,
            endColumn: position.column
        &#125;);
        let word = model.getWordUntilPosition(position);
        let range = &#123;
            startLineNumber: position.lineNumber,
            endLineNumber: position.lineNumber,
            startColumn: word.startColumn,
            endColumn: word.endColumn
        &#125;;

        let suggestions = [];
        if (sym === &quot;$&quot;) &#123;
            // ...
            // 拦截到用户输入 $，开始设置提示内容，同 else 中代码一致，自行拓展
        &#125; else &#123;
            // 直接提示，以下为 sql 语句关键词提示
            let sqlStr = [&quot;SELECT&quot;, &quot;FROM&quot;, &quot;WHERE&quot;, &quot;AND&quot;, &quot;OR&quot;, &quot;LIMIT&quot;, &quot;ORDER BY&quot;, &quot;GROUP BY&quot;, &quot;LEFT&quot;, &quot;ON&quot;, &quot;if()&#123;&#125;&quot;, &quot;for()&#123;&#125;&quot;, &quot;size&quot;, &quot;get()&quot;, &quot;substring&quot;, &quot;return&quot;];
            for (let i in sqlStr) &#123;
                suggestions.push(&#123;
                    label: sqlStr[i], // 显示的提示内容
                    kind: monaco.languages.CompletionItemKind[&quot;Function&quot;], // 用来显示提示内容后的不同的图标
                    insertText: sqlStr[i], // 选择后粘贴到编辑器中的文字
                    detail: &quot;&quot;, // 提示内容后的说明
                    range: range
                &#125;);
            &#125;
        &#125;
        return &#123;
            suggestions: suggestions
        &#125;;
    &#125;,
    triggerCharacters: [&quot;$&quot;, &quot;&quot;]
&#125;);
</code></pre>
</li>
</ol>
<h3 id="使用-Mock-js-生成随机数据，拦截-ajax-请求"><a href="#使用-Mock-js-生成随机数据，拦截-ajax-请求" class="headerlink" title="使用 Mock.js 生成随机数据，拦截 ajax 请求"></a>使用 <a target="_blank" rel="noopener" href="http://mockjs.com/examples.html">Mock.js</a> 生成随机数据，拦截 ajax 请求</h3><ol>
<li><p>引入 mockjs</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/Mock.js/1.0.0/mock-min.js&quot;&gt;&lt;/script&gt;
</code></pre>
</li>
<li><p>语法</p>
<pre><code class="javascript">Mock.mock(&quot;@paragraph&quot;);
Mock.mock(&quot;@sentence&quot;);

Mock.mock(&#123;
    &quot;users|20-30&quot;: [&#123;
        &quot;id|+1&quot;: 1,
        &quot;name&quot;: &quot;@name&quot;,
        &quot;cname&quot;: &quot;@cname&quot;,
        &quot;gender&quot;: &quot;@pick([&#39;male&#39;, &#39;female&#39;])&quot;,
        &quot;birth&quot;: &quot;@date(&#39;yyyy-MM-dd&#39;)&quot;,
        &quot;telephone&quot;: /^1[385][1-9]\d&#123;8&#125;/,
        &quot;email&quot;: &quot;@email&quot;,
        &quot;address&quot;: &quot;@province&quot; + &quot;@city&quot; + &quot;@county&quot;
    &#125;]
&#125;);
</code></pre>
<pre><code class="javascript">Mock.mock(&quot;/greeting&quot;, &quot;post&quot;, function (options) &#123;
    // console.log(options);
    return &#123;
        &quot;greeting&quot;: &quot;hello, world&quot;
    &#125;
&#125;);
$.post(&quot;/greeting&quot;, &#123;
    name: &quot;zhangsan&quot;
&#125;).then(res =&gt; console.log(res));

Mock.mock(&quot;/greeting2&quot;, function (options) &#123;
    return &#123;
        &quot;_status&quot;: 404,
        &quot;_headers&quot;: &#123;
            
        &#125;
    &#125;
&#125;);
</code></pre>
</li>
</ol>
<h3 id="decimal-js"><a href="#decimal-js" class="headerlink" title="decimal.js"></a><a target="_blank" rel="noopener" href="https://github.com/MikeMcl/decimal.js">decimal.js</a></h3><ol>
<li><p>引入</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/decimal.js/10.3.1/decimal.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<blockquote>
<p>nodejs 安装</p>
<pre><code class="bash">npm install --save decimal.js
</code></pre>
</blockquote>
</li>
<li><p>语法</p>
<pre><code class="javascript">// nodejs 需引入 decimal.js 模块
// var Decimal = require(&quot;decimal.js&quot;);

// 加法
var a = 0.1;
var b = 0.2;
console.log(a.toString(2)); // 0.0001100110011001100110011001100110011001100110011001101
console.log(a + b); // 0.30000000000000004
console.log(new Decimal(a + &quot;&quot;).add(new Decimal(b)).toNumber()); // 0.3

// 减法
var a = 1.0;
var b = 0.7;
console.log(a - b); // 0.30000000000000004
console.log(new Decimal(a).sub(new Decimal(b)).toNumber()); // 0.3

// 乘法
var a = 1.01;
var b = 1.003;
console.log(a * b); // 1.0130299999999999
console.log(new Decimal(a).mul(new Decimal(b)).toNumber()); // 1.01303

// 除法
var a = 0.029;
var b = 10;
console.log(a / b); // 0.0029000000000000002
console.log(new Decimal(a).div(new Decimal(b)).toNumber()); // 0.0029
</code></pre>
</li>
</ol>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>使用百度 api 查询经纬度位置信息<pre><code class="javascript">// # npm install node-fetch
// const fetch = require(&quot;node-fetch&quot;);
(async function (latitude, longitude) &#123;
    return await fetch(`http://api.map.baidu.com/geocoder/v2/?ak=wLyevcXk5QY36hTKmvV5350F&amp;callback=renderReverse&amp;location=$&#123;latitude&#125;,$&#123;longitude&#125;s&amp;output=json&amp;pois=0`, &#123;
        method: &quot;GET&quot;
    &#125;).then(r =&gt; r.text()).then(r =&gt; JSON.parse(r.replace(&quot;renderReverse&amp;&amp;renderReverse(&quot;, &quot;&quot;).replace(/\)$/, &quot;&quot;)));
&#125;)(39.916527, 116.397128);
</code></pre>
</li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/fdsdidgf/article/details/102566928">高薪的web前端工程师必会的19 个 JavaScript 简写方法</a></li>
</ul>
<details>

<summary>优雅的语法</summary>

<pre><code class="javascript">// 多个条件判断
// long
if (x === &quot;a&quot; || x === &quot;b&quot; || x === &quot;c&quot; || x === &quot;d&quot;) &#123;
    // todo
&#125;
// short
if ([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;].includes(x)) &#123;
    // todo
&#125;

// 三目运算符
// long
let flag
if (x &gt; 10) &#123;
    flag = true
&#125; else &#123;
    flag = false
&#125;
// short
let flag = x &gt; 10 ? true : false

// 变量声明
// long
let a
let b = 1
// short
let a, b = 1

// 空/未定义检查和分配默认值
// long
if (test1 !== null || test1 !== undefined || test1 !== &quot;&quot;) &#123;
    let test2 = test1;
&#125; else &#123;
    let test2 = &quot;&quot;
&#125;
// short
let test2 = test1 || &quot;&quot;

// 给多个变量赋值
//long 
let test1, test2, test3;
test1 = 1;
test2 = 2;
test3 = 3;
//Short 
let [test1, test2, test3] = [1, 2, 3];

// 赋值运算符的简写
// long
test1 = test1 + 1;
test2 = test2 - 1;
test3 = test3 * 20;
// short
test1++;
test2--;
test3 *= 20;

// 真值判断
// long
if (test1 === true)
// short
if (test1)

// 多条件的与/或运算
//long 
if (test1) &#123;
    callMethod();
&#125;
//short 
test1 &amp;&amp; callMethod();

// forEach
// long
for (var i = 0; i &lt; testList.length; i++)
// short
testList.forEach(item =&gt; console.log(item))

// 比较返回值
// long
let test;
function checkReturn() &#123;
    if (!(test === undefined)) &#123;
        return test;
    &#125; else &#123;
        return callMe(&quot;test&quot;);
    &#125;
&#125;
var data = checkReturn();
console.log(data); //output test
function callMe(val) &#123;
    console.log(val);
&#125;
// short
function checkReturn() &#123;
    return test || callMe(&quot;test&quot;);
&#125;

// 箭头函数
// long 
function add(a, b) &#123;
    return a + b;
&#125;
// short 
const add = (a, b) =&gt; a + b;

// 短函数调用
// long
function test1() &#123;
    console.log(&quot;test1&quot;);
&#125;;
function test2() &#123;
    console.log(&quot;test2&quot;);
&#125;;
var test3 = 1;
if (test3 == 1) &#123;
    test1();
&#125; else &#123;
    test2();
&#125;
// short
(test3 === 1 ? test1 : test2)();

// switch
// long
switch (data) &#123;
    case 1:
        test1();
        break;

    case 2:
        test2();
        break;

    case 3:
        test();
        break;
    // And so on...
&#125;
// short
var data = &#123;
    1: test1,
    2: test2,
    3: test
&#125;;
data[something] &amp;&amp; data[something]();

// 默认参数
// long
function add(test1, test2) &#123;
    if (test1 === undefined)
        test1 = 1;
    if (test2 === undefined)
        test2 = 2;
    return test1 + test2;
&#125;
// short
add = (test1 = 1, test2 = 2) =&gt; (test1 + test2);
add() // output: 3

// 参数必传校验
// long
function hello(obj) &#123;
    let &#123; name, age &#125; = obj
    if (!name) &#123;
        console.warn(&quot;name is null, pls check!&quot;)
        return &quot;&quot;
    &#125;
    if (!age) &#123;
        console.warn(&quot;age is null, pls check!&quot;)
        return &quot;&quot;
    &#125;
    return `$&#123;name&#125;: $&#123;age&#125;`
&#125;
// short
function hello(obj) &#123;
    let &#123; name = required(&quot;name&quot;), age = required(&quot;age&quot;) &#125; = obj
    return `$&#123;name&#125;: $&#123;age&#125;`
&#125;
function required(key) &#123;
    console.warn(`$&#123;key&#125; is null, pls check!`)
&#125;

// 扩展运算符
// long
const data = [1, 2, 3];
const test = [4, 5, 6].concat(data);
// short
const data = [1, 2, 3];
const test = [4, 5, 6, ...data];
console.log(test); // [ 4, 5, 6, 1, 2, 3]

// 克隆
// long
const test1 = [1, 2, 3];
const test2 = test1.slice()
// short
const test1 = [1, 2, 3];
const test2 = [...test1];

// 模板字符串/模板字面量
// long
const welcome = &quot;Hi &quot; + user + &quot; &quot; + name + &quot;.&quot;
// short
const welcome = `Hi $&#123;user&#125; $&#123;name&#125;`;

// 对象属性赋值
let test1 = &quot;a&quot;;
let test2 = &quot;b&quot;;
// long
let obj = &#123; test1: test1, test2: test2 &#125;;
// short 
let obj = &#123; test1, test2 &#125;;

// 字符串转换成数字
// long
let test1 = parseInt(&quot;123&quot;);
let test2 = parseFloat(&quot;12.3&quot;);
// short
let test1 = +&quot;123&quot;;
let test2 = +&quot;12.3&quot;;

// Array.find
const data = [&#123;
    type: &quot;test1&quot;,
    name: &quot;abc&quot;
&#125;,
&#123;
    type: &quot;test2&quot;,
    name: &quot;cde&quot;
&#125;,
&#123;
    type: &quot;test1&quot;,
    name: &quot;fgh&quot;
&#125;,
]
// long
function findtest1(name) &#123;
    for (let i = 0; i &lt; data.length; ++i) &#123;
        if (data[i].type === &quot;test1&quot; &amp;&amp; data[i].name === name) &#123;
            return data[i];
        &#125;
    &#125;
&#125;
//shorthand
filteredData = data.find(data =&gt; data.type === &quot;test1&quot; &amp;&amp; data.name === &quot;fgh&quot;);
console.log(filteredData); 

// 多条件判断
// long
if (type === &quot;test1&quot;) &#123;
    test1();
&#125;
else if (type === &quot;test2&quot;) &#123;
    test2();
&#125;
else if (type === &quot;test3&quot;) &#123;
    test3();
&#125;
else if (type === &quot;test4&quot;) &#123;
    test4();
&#125; else &#123;
    throw new Error(&quot;Invalid value &quot; + type);
&#125;
// short
const types = &#123;
    test1: test1,
    test2: test2,
    test3: test3,
    test4: test4
&#125;;
let func = types[type];
(!func) &amp;&amp; throw new Error(&quot;Invalid value &quot; + type); func();

// 索引查找
// long
if (arr.indexOf(item) &gt; -1) &#123; // item found 
&#125;
if (arr.indexOf(item) === -1) &#123; // item not found
&#125;
// short
if (~arr.indexOf(item)) &#123; // item found
&#125;
if (!~arr.indexOf(item)) &#123; // item not found
&#125;
// 按位~运算符将返回非-1的真实值。取反就像做~一样简单。另外，我们也可以使用include()函数
if (arr.includes(item)) &#123; 
    // true if the item found
&#125;

// Object.entries()
const data = &#123; test1: &quot;abc&quot;, test2: &quot;cde&quot;, test3: &quot;efg&quot; &#125;;
const arr = Object.entries(data);
console.log(arr); // [[ &quot;test1&quot;, &quot;abc&quot; ], [ &quot;test2&quot;, &quot;cde&quot; ], [ &quot;test3&quot;, &quot;efg&quot; ]]

// Object.values()
const data = &#123; test1: &quot;abc&quot;, test2: &quot;cde&quot; &#125;;
const arr = Object.values(data);
console.log(arr); // [ &quot;abc&quot;, &quot;cde&quot;]

// 重复一个字符串多次
// long 
let test = &quot;&quot;;
for (let i = 0; i &lt; 5; i++) &#123;
    test += &quot;test &quot;;
&#125;
console.log(str); // test test test test test 
// short 
&quot;test &quot;.repeat(5);

// 在数组中查找最大值和最小值
const arr = [1, 2, 3]; 
Math.max(…arr); // 3
Math.min(…arr); // 1
Math.min.apply(null, arr); // 1

// 使用展开运算符号 `...` 有条件地向对象快速添加属性
const condition = true;
const person = &#123;
  id: 1,
  name: &quot;John Doe&quot;,
  ...(condition &amp;&amp; &#123; age: 16 &#125;),
&#125;;

// 合并对象
let a = &#123; 1: 1, 2: 2, 3: 0 &#125;,
    b = &#123; 3: 3, 4: 4 &#125;;
console.log(&#123; ...b, ...a, 5: 5 &#125;); // &#123; 1: 1, 2: 2, 3: 0, 4: 4, 5: 5 &#125; // 相同属性 3，后添加的(a: &#123; 3: 0 &#125;)会覆盖之前同名属性(b: &#123; 3: 3 &#125;)值，最终为 &#123; 3: 0 &#125;

// 使用 `in` 关键字来检查对象中是否存在某个属性
const person = &#123; name: &quot;前端小智&quot;, salary: 1000 &#125;;
console.log(&quot;salary&quot; in person); // true
console.log(&quot;age&quot; in person); // false

// 使用 `[&quot;key name&quot;]` 动态键设置对象属性
const dynamic = &quot;flavour&quot;;
var item = &#123;
  name: &quot;前端小智&quot;,
  [dynamic]: &quot;巧克力&quot;
&#125;
console.log(item); // &#123; name: &quot;前端小智&quot;, flavour: &quot;巧克力&quot; &#125;
const keyName = &quot;name&quot;;
console.log(item[keyName]); // returns &quot;前端小智&quot;

// 使用 `:` 来对解构的属性进行重命名
const person = &#123; id: 1, name: &quot;前端小智&quot; &#125;;
const &#123; name: personName &#125; = person;
console.log(personName); // &quot;前端小智&quot;
// 用动态键来解构属性
const templates = &#123;
  &quot;hello&quot;: &quot;Hello there&quot;,
  &quot;bye&quot;: &quot;Good bye&quot;
&#125;;
const templateName = &quot;bye&quot;;
const &#123; [templateName]: template &#125; = templates;
console.log(template); // Good bye

// 空值合并 `??` 操作符，当它的左侧操作数为 null 或 undefined 时，它返回右侧的操作数，否则返回其左侧的操作数
const foo = null ?? &quot;Hello&quot;;
console.log(foo); // &quot;Hello&quot;
const bar = &quot;Not null&quot; ?? &quot;Hello&quot;;
console.log(bar); // &quot;Not null&quot;
const baz = 0 ?? &quot;Hello&quot;;
console.log(baz); // 0

// https://m.toutiao.com/is/dnGrHRV/?=有个开发者总结这 15 优雅的 JavaScript 个技巧
</code></pre>
</details>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2025/03/22/hello-world/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2025/03/22/algorithm/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://foruda.gitee.com/avatar/1742612186548659192/332261_isunk_1742612186.jpeg" alt="Dim.Ke's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        904243852@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 904243852@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/algorithm/">algorithm<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/css/">css<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/deno/">deno<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/docker/">docker<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/elasticsearch/">elasticsearch<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/ffmpeg/">ffmpeg<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/golang/">golang<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/javascript/">javascript<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/kubernetes/">kubernetes<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/linux/">linux<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/mysql/">mysql<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/nginx/">nginx<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/nodejs/">nodejs<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/solr/">solr<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/tomcat/">tomcat<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/webassembly/">webassembly<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/isunk" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    

    <!-- Gitee -->
    
        <a href="https://gitee.com/isunk" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background: url('https://gitee.com/static/images/logo-en.svg'); background-size: cover;">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Dim.Ke
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/bollnh/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<!-- <script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script> -->

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2020;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/bollnh/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
